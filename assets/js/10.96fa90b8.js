(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{359:function(s,a,t){"use strict";t.r(a);var e=t(42),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"mqtt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mqtt"}},[s._v("#")]),s._v(" MQTT")]),s._v(" "),t("p",[s._v("http 请求/回答")]),s._v(" "),t("p",[s._v("mqtt 发布/订阅 不需要直接建立联系")]),s._v(" "),t("p",[s._v("Client")]),s._v(" "),t("p",[s._v("发布应用消息给其他客户端")]),s._v(" "),t("p",[s._v("订阅以请求接收消息")]),s._v(" "),t("p",[s._v("Server")]),s._v(" "),t("p",[s._v("云平台")]),s._v(" "),t("p",[s._v("客户端间的中介")]),s._v(" "),t("h5",{attrs:{id:"git教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git教程"}},[s._v("#")]),s._v(" git教程")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.yiibai.com/git/git_remote.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.yiibai.com/git/git_remote.html"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"跳板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#跳板"}},[s._v("#")]),s._v(" 跳板")]),s._v(" "),t("h5",{attrs:{id:"带shhd的alpine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#带shhd的alpine"}},[s._v("#")]),s._v(" 带shhd的alpine")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('FROM alpine:3.10\nMAINTAINER alpine:sshd (649781645@qq.com)\nRUN cp -a /etc/apk/repositories /etc/apk/repositories.bak && \\\necho \'http://mirrors.aliyun.com/alpine/latest-stable/main/\' > /etc/apk/repositories && \\\necho \'http://mirrors.aliyun.com/alpine/latest-stable/community/\' >> /etc/apk/repositories\nRUN sed -i \'s/\\\\h:\\\\w\\\\$ /[\\\\u@\\\\h \\\\W]\\\\$ /g\' /etc/profile && \\\necho \'\' > /etc/motd\nRUN apk update && \\\napk add --no-cache openssh tzdata bash && \\\ncp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime && \\\nsed -i "s/#PermitRootLogin.*/PermitRootLogin yes/g" /etc/ssh/sshd_config && \\\nsed -i \'s?/root:/bin/ash?/root:/bin/bash?g\' /etc/passwd && \\\nssh-keygen -t dsa -P "" -f /etc/ssh/ssh_host_dsa_key && \\\nssh-keygen -t rsa -P "" -f /etc/ssh/ssh_host_rsa_key && \\\nssh-keygen -t ecdsa -P "" -f /etc/ssh/ssh_host_ecdsa_key && \\\nssh-keygen -t ed25519 -P "" -f /etc/ssh/ssh_host_ed25519_key && \\\necho "root:123456" | chpasswd\nEXPOSE 22\nCMD ["/usr/sbin/sshd", "-D"]\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker build -t alpine:sshd "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\ndocker run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v(":22 alpine:sshd\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2222")]),s._v(" root@server-ip\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"markdown有趣的用法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#markdown有趣的用法"}},[s._v("#")]),s._v(" markdown有趣的用法")]),s._v(" "),t("h5",{attrs:{id:"文件目录的结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文件目录的结构"}},[s._v("#")]),s._v(" 文件目录的结构")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("tree --dirsfirst --charset=ascii /path/to/directory\n\n|-- code\n|   |-- Dockerfile\n|   `-- web.go\n`-- docker-compose.yaml\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h5",{attrs:{id:"结构图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结构图"}},[s._v("#")]),s._v(" 结构图")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.gracecode.com/posts/3166.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.gracecode.com/posts/3166.html"),t("OutboundLink")],1)]),s._v(" "),t("h6",{attrs:{id:"uml流程图-序列图-mermaid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uml流程图-序列图-mermaid"}},[s._v("#")]),s._v(" UML流程图 序列图 mermaid")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/a9ff5a9cdb25",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jianshu.com/p/a9ff5a9cdb25"),t("OutboundLink")],1)]),s._v(" "),t("h6",{attrs:{id:"js-sequence-diagrams"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#js-sequence-diagrams"}},[s._v("#")]),s._v(" js-sequence-diagrams")]),s._v(" "),t("h6",{attrs:{id:"turns-text-into-uml-sequence-diagrams"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#turns-text-into-uml-sequence-diagrams"}},[s._v("#")]),s._v(" Turns text into UML sequence diagrams")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://bramp.github.io/js-sequence-diagrams/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://bramp.github.io/js-sequence-diagrams/"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"公式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#公式"}},[s._v("#")]),s._v(" 公式")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.zybuluo.com/codeep/note/163962#1%E5%A6%82%E4%BD%95%E6%8F%92%E5%85%A5%E5%85%AC%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cmd Markdown 公式指导手册"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#证书"}},[s._v("#")]),s._v(" 证书")]),s._v(" "),t("h5",{attrs:{id:"https证书pfx-生成-pem-crt-key"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#https证书pfx-生成-pem-crt-key"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.cnblogs.com/zhaojingyu/p/11314215.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https证书pfx 生成 pem,crt,key"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("("),t("code",[s._v("1")]),s._v(")将.pfx格式的证书转换为.pem文件格式")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("openssl pkcs12 ``-``in` `xxx.pfx ``-``nodes ``-``out server.pem\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("("),t("code",[s._v("2")]),s._v(")从.pem文件中导出私钥server.key")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("openssl rsa ``-``in` `server.pem ``-``out server.key\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("("),t("code",[s._v("3")]),s._v(")从.pem文件中导出证书server.crt")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("openssl x509 ``-``in` `server.pem ``-``out server.crt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"pfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pfs"}},[s._v("#")]),s._v(" pfs")]),s._v(" "),t("p",[s._v("一般用于 Windows 上的 IIS 服务器")]),s._v(" "),t("h5",{attrs:{id:"ssl-证书格式普及-pem、cer、jks、pkcs12"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssl-证书格式普及-pem、cer、jks、pkcs12"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://blog.freessl.cn/ssl-cert-format-introduce/",target:"_blank",rel:"noopener noreferrer"}},[s._v("SSL 证书格式普及，PEM、CER、JKS、PKCS12"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"scp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#scp"}},[s._v("#")]),s._v(" scp")]),s._v(" "),t("p",[s._v("1、从服务器下载文件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("scp username@servername:/path/filename /tmp/local_destination\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("2、上传本地文件到服务器")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("scp /path/local_filename username@servername:/path  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"git"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[s._v("#")]),s._v(" git")]),s._v(" "),t("p",[s._v("把远程分支拉到本地")]),s._v(" "),t("p",[s._v("git fetch origin dev")]),s._v(" "),t("p",[s._v("在本地创建分支dev并切换到该分支")]),s._v(" "),t("p",[t("strong",[s._v("git checkout -b dev(本地分支名称) origin/dev(远程分支名称)")])]),s._v(" "),t("h4",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),t("p",[s._v("toolbox")]),s._v(" "),t("p",[s._v("vurtualbox")]),s._v(" "),t("p",[s._v("起用虚拟化")]),s._v(" "),t("p",[s._v("禁用hyper-V")]),s._v(" "),t("p",[s._v("服务")]),s._v(" "),t("p",[s._v("bcdedit /set hypervisorlaunchtype auto")]),s._v(" "),t("p",[s._v("desktop")]),s._v(" "),t("p",[s._v("卸载")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.microsoft.com/en-us/virtualization/windowscontainers/manage-docker/configure-docker-daemon",target:"_blank",rel:"noopener noreferrer"}},[s._v("Windows上的Docker引擎"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("关机或重启前关闭所有容器")]),s._v(" "),t("p",[s._v("docker-engine")]),s._v(" "),t("p",[s._v("网络")]),s._v(" "),t("h5",{attrs:{id:"slat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#slat"}},[s._v("#")]),s._v(" SLAT")]),s._v(" "),t("p",[s._v("一直starting")]),s._v(" "),t("p",[s._v("笔记本电脑上的电池突然耗尽，并关闭了系统")]),s._v(" "),t("p",[s._v("禁用和启用Hyper-V是我的诀窍(重启Hyper-V)")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://dev.to/lasatadevi/docker-cmd-vs-entrypoint-34e0",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker: cmd VS entrypoint"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("exit code 0")]),s._v(" "),t("p",[s._v("您的CMD "),t("code",[s._v("Dockerfile")]),s._v("应该启动一个需要在前台运行的进程。该命令"),t("code",[s._v("service nginx start")]),s._v("以守护进程模式运行该进程，因此您的容器会干净退出，因为该"),t("code",[s._v("service")]),s._v("命令已退出。")]),s._v(" "),t("p",[s._v("使用以下"),t("code",[s._v('CMD ["nginx", "-g", "daemon off;"]')]),s._v("命令启动nginx（摘自"),t("a",{attrs:{href:"https://github.com/nginxinc/docker-nginx/blob/4e5332fa50a1f8f73657417c6bfe249bbb3b110d/Dockerfile",target:"_blank",rel:"noopener noreferrer"}},[s._v("Official image"),t("OutboundLink")],1),s._v("），它应该可以正常工作。")]),s._v(" "),t("p",[s._v("windows")]),s._v(" "),t("p",[s._v("docker 打开")]),s._v(" "),t("p",[s._v("关闭")]),s._v(" "),t("h4",{attrs:{id:"uwsgi服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uwsgi服务器"}},[s._v("#")]),s._v(" uwsgi服务器")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/e8ee1eed2e50",target:"_blank",rel:"noopener noreferrer"}},[s._v("python常用的部署方式"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("gunicorn+meinheld")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('#  -*- coding: utf-8 -*-\nimport multiprocessing\n\n"""gunicorn的配置文件"""\n\n# 预加载资源\npreload_app = True\n# 绑定\nbind = "0.0.0.0:8000"\n# 进程数\nworkers = multiprocessing.cpu_count() * 2 + 1\n# 线程数\nthreads = multiprocessing.cpu_count() * 2\n# 等待队列最大长度,超过这个长度的链接将被拒绝连接\nbacklog = 2048\n# 工作模式\nworker_class = "egg:meinheld#gunicorn_worker"\n# worker_class = "gevent"\n# 最大客户客户端并发数量,对使用线程和协程的worker的工作有影响\nworker_connections = 1000\n# 进程名称\nproc_name = \'gunicorn.pid\'\n# 进程pid记录文件\npidfile = \'app_run.log\'\n# 日志等级\nloglevel = \'debug\'\n# 日志文件名\nlogfile = \'debug.log\'\n# 访问记录\naccesslog = \'access.log\'\n# 访问记录格式\naccess_log_format = \'%(h)s %(t)s %(U)s %(q)s\'\n\n"""\n运行方式\n命令行 gunicorn -c gunicorn_config.py flask_server:app\n如果在虚拟环境下运行(双py的ubuntu之流需要虚拟环境,否则会路径混乱):\n"""\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://www.khalidalnajjar.com/developing-blazing-fast-website-python-using-falcon-bjoern/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Falcon和Bjoern"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("import falcon\nimport bjoern\nfrom pages import IndexResource\nfrom ipaddress import ip_address\n\nwsgi_app = api = application = falcon.API()\n\n# -- Edit Here --\napi.req_options.auto_parse_form_urlencoded = True\napi.add_route('/', IndexResource()) # attach resources to API\n# -- End of Edit --\n\nif __name__ == '__main__':\n\timport argparse # for parsing passed parameters through terminal\n\n\tparser = argparse.ArgumentParser()\n\tparser.add_argument(\"-ip\", help=\"Hostname\", default='0.0.0.0:8000', nargs='?') # either define an IP\n\tparser.add_argument(\"-socket\", help=\"Linux Socket Name\", default=None, nargs='?') # or pass path of Linux's socket\n\targs = parser.parse_args()\n\n\tif args.socket: # a socket is passed\n\t\tbjoern.run(wsgi_app, 'unix:' + args.socket)\n\telse:\n\t\tif ':' in args.ip:\n\t\t\tip, separator, port = args.ip.rpartition(':')\n\t\t\tip = ip_address(ip.strip(\"[]\"))\n\t\t\tport = int(port)\n\t\telse:\n\t\t\tip = ip_address(args.ip.strip(\"[]\"))\n\t\t\tport = 8000\n\t\tip = str(ip)\n\t\tbjoern.run(wsgi_app, ip, port)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://www.appdynamics.com/blog/engineering/a-performance-analysis-of-python-wsgi-servers-part-2/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Python WSGI服务器的性能分析"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("搭建私人仓库")]),s._v(" "),t("p",[s._v("线程、进程?")]),s._v(" "),t("p",[s._v("烟草优化")]),s._v(" "),t("p",[s._v("实时检测>烟站层级按需渲染")]),s._v(" "),t("p",[s._v('第一次只加载第一个station("城区工作站")第一个groups("洪林服务部")')]),s._v(" "),t("p",[s._v("统计分析>无法选择烤房群")]),s._v(" "),t("h3",{attrs:{id:"web-v"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-v"}},[s._v("#")]),s._v(" web-v")]),s._v(" "),t("p",[s._v("万能在线平台")]),s._v(" "),t("p",[s._v("代码高亮")]),s._v(" "),t("p",[s._v("成熟的相关网站")]),s._v(" "),t("h2",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[s._v("#")]),s._v(" Mysql")]),s._v(" "),t("h4",{attrs:{id:"事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[s._v("#")]),s._v(" 事务")]),s._v(" "),t("p",[s._v("数据库操作语句构成事务，Innodb支持。维护完整性，保证成批的SQL语句全部执行。")]),s._v(" "),t("p",[s._v("ACID 原子（undo log回滚）、一致、隔离（类似于多线程数据同步，锁机制）、持久（redo Log）")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("BEGIN\nROLLBACK\nCOMMIT\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"mysql-事务日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql-事务日志"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"http://mp.weixin.qq.com/s?__biz=MjM5MjAwODM4MA==&mid=2650751455&idx=3&sn=d0a851a50971c92e42833cb58a9753f0&chksm=bea7300c89d0b91a863db5b833c34fc3fc17447e6fd70a0ec4bb0c7d9be72696a1335f7241bd&mpshare=1&scene=23&srcid=0916ijagqRRaCBmGn2WwI5FC&sharer_sharetime=1600260862097&sharer_shareid=7540eb0ab4942cf9d0ecc63b963f600f#rd",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL 事务日志"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nosql"}},[s._v("#")]),s._v(" NoSQL")]),s._v(" "),t("ul",[t("li",[s._v("键值对：哈希表实现键值对")]),s._v(" "),t("li",[s._v("列存储：根据数据的属性按照列进行存储，分布式系统 HBase Cassandra")]),s._v(" "),t("li",[s._v("文档型：键值对，Value为结构化文档 MongoDB")])]),s._v(" "),t("h5",{attrs:{id:"逻辑架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#逻辑架构"}},[s._v("#")]),s._v(" 逻辑架构")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/TdGLaSU675hcsS4wOSWWZhZ2WayIL6wV95j7Yz9ATSu3lWkQIhUrGFIg8bKWGzhIKhpFW9ic2IQXqOo2OL69lmg/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"img"}})]),s._v(" "),t("p",[s._v("引擎层：处理事务")]),s._v(" "),t("h5",{attrs:{id:"并发读"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#并发读"}},[s._v("#")]),s._v(" 并发读")]),s._v(" "),t("ol",[t("li",[s._v("不可重复读：事务先后读的不一致")]),s._v(" "),t("li",[s._v("脏读：读到其他事务未提交")]),s._v(" "),t("li",[s._v("幻读：2次读的行数不一致")])]),s._v(" "),t("h5",{attrs:{id:"隔离级别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#隔离级别"}},[s._v("#")]),s._v(" 隔离级别")]),s._v(" "),t("p",[s._v("可重复读(InnoDB引擎)")]),s._v(" "),t("h5",{attrs:{id:"mvcc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mvcc"}},[s._v("#")]),s._v(" MVCC")]),s._v(" "),t("p",[s._v("解决多版本的并发控制协议，解决1、2，会有隐藏列：版本号、删除时间、回滚指针")]),s._v(" "),t("p",[s._v("next-key lock锁定当前行以及一个范围，一种间隙锁")]),s._v(" "),t("h5",{attrs:{id:"日志系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日志系统"}},[s._v("#")]),s._v(" 日志系统")]),s._v(" "),t("h6",{attrs:{id:"redo-log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redo-log"}},[s._v("#")]),s._v(" redo log")]),s._v(" "),t("p",[s._v("预写式技术，更新记录写入redo log，是一种物理日志，为了crash-safe")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/TdGLaSU675hcsS4wOSWWZhZ2WayIL6wVb3O6CSNGlMKfgRQEG5dru7VdaE3F1eSMYwSjljf8ffPzUPHU6Zzn3w/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"img"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/TdGLaSU675hcsS4wOSWWZhZ2WayIL6wVQoJ8UL0cuFGmur9ksdpzUvafNiaOmF1xEjea3cNPUX2sMVD8bpz5ic9Q/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"img"}})]),s._v(" "),t("p",[s._v("checkpoint规则：checkpoint触发后，将buffer中脏数据页(缓存池buffer pool中，内存中的数据)和脏日志页都刷到磁盘")]),s._v(" "),t("p",[s._v("redo log日志可分为两个部分，一是存在易失性内存中的缓存日志redo log buff，二是保存在磁盘上的redo log日志文件redo log file，调用fsync")]),s._v(" "),t("h6",{attrs:{id:"bin-log-归档日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bin-log-归档日志"}},[s._v("#")]),s._v(" bin log------归档日志")]),s._v(" "),t("p",[s._v("mysql服务层的日志，归档日志，记录数据库的变化情况，基于SQL语句，逻辑日志。")]),s._v(" "),t("p",[s._v("基于时间点对数据恢复或备份")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/TdGLaSU675hcsS4wOSWWZhZ2WayIL6wVQoV44BicNcjAPlb0gtibRVAOfuZj1Wy49yV8Q89V4FBaeibGnqiczwZCRA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"img"}})]),s._v(" "),t("p",[s._v("在对redo log写入时有两个阶段的提交，一是binlog写入之前prepare状态的写入，二是binlog写入之后commit状态的写入。保证2种log一致")]),s._v(" "),t("h6",{attrs:{id:"undo-log-回滚日志"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#undo-log-回滚日志"}},[s._v("#")]),s._v(" undo log-------回滚日志")]),s._v(" "),t("p",[s._v("逻辑日志，实现MVCC")]),s._v(" "),t("h5",{attrs:{id:"主从复制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主从复制"}},[s._v("#")]),s._v(" 主从复制")]),s._v(" "),t("p",[s._v("通过bin log，对SQL进行复制")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/TdGLaSU675hcsS4wOSWWZhZ2WayIL6wVXaTZGkKruLLLkqfWF87ZsnaUuru7u3evCjNVxKOcAhGxicj3m0ibwiasQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"img"}})]),s._v(" "),t("p",[s._v("异地备份")]),s._v(" "),t("h5",{attrs:{id:"索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[s._v("#")]),s._v(" 索引")]),s._v(" "),t("h3",{attrs:{id:"数据导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据导出"}},[s._v("#")]),s._v(" 数据导出")]),s._v(" "),t("h4",{attrs:{id:"mysqldump"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysqldump"}},[s._v("#")]),s._v(" mysqldump")]),s._v(" "),t("h6",{attrs:{id:"快速备份还原数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#快速备份还原数据库"}},[s._v("#")]),s._v(" 快速备份还原数据库")]),s._v(" "),t("p",[s._v("一系列语句直接运行就能还原数据，或者还原表结构")]),s._v(" "),t("p",[s._v("部分导出某张表的数据")]),s._v(" "),t("p",[s._v('mysqldump -u用户名 -p密码 数据库名 表名 --where="筛选条件" > 导出文件路径')]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysqldump -uroot -p mysql user --where=\"user='zejin'\"  > zejin.sql;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("产生多种格式的输出，从而使数据提取/传输更加容易")]),s._v(" "),t("p",[s._v("连续导出多张表")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mysqldump -uroot -pdbpasswd dbname test1 test2 test3>db.sql;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"mysqldbexport"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysqldbexport"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://docs.oracle.com/cd/E17952_01/mysql-utilities-1.4-en/mysqldbexport.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysqldbexport"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"如何使用索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何使用索引"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("如何使用索引"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("索引用于快速查找具有特定列值的行。没有索引，MySQL必须从第一行开始，然后通读整个表以找到相关的行")]),s._v(" "),t("p",[s._v("大多数MySQL索引（"),t("code",[s._v("PRIMARY KEY")]),s._v("， "),t("code",[s._v("UNIQUE")]),s._v("，"),t("code",[s._v("INDEX")]),s._v("和 "),t("code",[s._v("FULLTEXT")]),s._v("）存储在 "),t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_b_tree",target:"_blank",rel:"noopener noreferrer"}},[s._v("B树"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("这排除了对字符串列使用任何索引的可能性")]),s._v(" "),t("p",[s._v("对于报表查询处理大多数或所有行的小型表或大型表，索引的重要性不那么重要。当查询需要访问大多数行时，顺序读取要比处理索引快。顺序读取可以最大程度地减少磁盘查找")]),s._v(" "),t("p",[s._v("少量数据")]),s._v(" "),t("p",[s._v("加索引后，查询变慢")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/5.7/en/mysql-indexes.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL 5.7参考手册"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("迁移mysql8.0")]),s._v(" "),t("h4",{attrs:{id:"mysql在线分表分库方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql在线分表分库方案"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://blog.csdn.net/pzqingchong/article/details/52831089",target:"_blank",rel:"noopener noreferrer"}},[s._v("mysql在线分表分库方案"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("百度钱包")]),s._v(" "),t("h5",{attrs:{id:"不同场景下-mysql-的迁移方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不同场景下-mysql-的迁移方案"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://dbarobin.com/2015/09/15/migration-of-mysql-on-different-scenes/",target:"_blank",rel:"noopener noreferrer"}},[s._v("不同场景下 MySQL 的迁移方案"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"外键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#外键"}},[s._v("#")]),s._v(" 外键")]),s._v(" "),t("p",[s._v("不推荐使用，不宜水平拓展")]),s._v(" "),t("h5",{attrs:{id:"性能问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#性能问题"}},[s._v("#")]),s._v(" 性能问题")]),s._v(" "),t("p",[s._v("用户量大，并发度高，为此数据库服务器很容易成为性能瓶颈，尤其受IO能力限制")]),s._v(" "),t("p",[s._v("有了外键，当做一些涉及外键字段的增，删，更新操作之后，需要触发相关操作去检查，而不得不消耗资源")]),s._v(" "),t("p",[s._v("使用外键与否，看你使用的框架是否有足够的事务管理能力。\n（其实不仅限于外键，还有一切可被替代的 db 高级特性）")]),s._v(" "),t("p",[s._v("因为如果是按照范式去设计，一个查询往往要进行连表查询，联表查询往往很消耗性能，适当的进行反范式设计，添加冗余字段，一个查询关联一张表就可以了，速度很快。当然了，插入的时候，维护记录可能就要维护多条记录")]),s._v(" "),t("h4",{attrs:{id:"编码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编码"}},[s._v("#")]),s._v(" 编码")]),s._v(" "),t("p",[s._v("UTF-8编码有可能是两个、三个、四个字节。Emoji表情或者某些特殊字符是4个字节，而"),t("a",{attrs:{href:"http://lib.csdn.net/base/mysql",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL"),t("OutboundLink")],1),s._v("的utf8编码最多3个字节，所以数据插不进去")]),s._v(" "),t("h5",{attrs:{id:"utf8mb4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#utf8mb4"}},[s._v("#")]),s._v(" utf8mb4")]),s._v(" "),t("p",[s._v("most bytes 4，用来兼容四字节的unicode")]),s._v(" "),t("p",[s._v("latin1")]),s._v(" "),t("p",[s._v("ISO-8859-1的别名，向下兼容ASCII")]),s._v(" "),t("div",{staticClass:"language-mysql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("SHOW VARIABLES LIKE 'character_set_%';\nSET NAMES 'utf8'; \t# 设置connection连接层上 clients results connection\nalter database name character set utf8; \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("主要配置文件位置:"),t("strong",[s._v("/etc/mysql/my.cnf."),t("strong",[s._v("数据库表文件夹")]),s._v(":/var/lib/mysql/")])]),s._v(" "),t("h4",{attrs:{id:"bug"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bug"}},[s._v("#")]),s._v(" bug")]),s._v(" "),t("h5",{attrs:{id:"incorrect-string-value"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#incorrect-string-value"}},[s._v("#")]),s._v(" Incorrect string value")]),s._v(" "),t("p",[s._v("编码latin1->utf8")]),s._v(" "),t("h3",{attrs:{id:"explain"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#explain"}},[s._v("#")]),s._v(" explain")]),s._v(" "),t("p",[s._v("查询优化")]),s._v(" "),t("h3",{attrs:{id:"优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化"}},[s._v("#")]),s._v(" 优化")]),s._v(" "),t("p",[s._v("小表驱动大表")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("如select * from A where id in (select A_id from B)适用于A数据集大于B数据集的情况，而select * from A where exists (select 1 from B where A_id=A.id)则适用于A数据集小于B数据集的情况。注：已为A_id和A.id建立索引。\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("不用使用真实的外键，比如"),t("code",[s._v("select * from A where id in (select A_id from B)")]),s._v("，A_id列不一定要真实存在，级联删除在应用层去解决")]),s._v(" "),t("p",[s._v("orm框架是非常优秀的，但是在使用orm时需要注意外键和级联")]),s._v(" "),t("h2",{attrs:{id:"docker-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-2"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),t("h3",{attrs:{id:"底层原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#底层原理"}},[s._v("#")]),s._v(" 底层原理")]),s._v(" "),t("p",[s._v("cgroups、namespace")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.infoq.cn/article/docker-kernel-knowledge-namespace-resource-isolation?utm_source=related_read_bottom&utm_medium=article",target:"_blank",rel:"noopener noreferrer"}},[s._v("Namespace 资源隔离"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("文件系统")]),s._v(" "),t("li",[s._v("网络")]),s._v(" "),t("li",[s._v("主机名")]),s._v(" "),t("li",[s._v("进程通信")]),s._v(" "),t("li",[s._v("用户权限")]),s._v(" "),t("li",[s._v("PID")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.infoq.cn/article/docker-kernel-knowledge-cgroups-resource-isolation/",target:"_blank",rel:"noopener noreferrer"}},[s._v("cgroups 资源限制"),t("OutboundLink")],1)]),s._v(" "),t("ul",[t("li",[s._v("资源限制")]),s._v(" "),t("li",[s._v("优先级分配")]),s._v(" "),t("li",[s._v("资源统计")]),s._v(" "),t("li",[s._v("进程控制")])]),s._v(" "),t("p",[s._v("限制、记录、隔离进程组使用的物理资源")]),s._v(" "),t("p",[s._v("使用内核的 namespace 来做容器之间的隔离，docker 也是通过内核的 cgroups 来做容器的资源限制")]),s._v(" "),t("h5",{attrs:{id:"分层文件系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分层文件系统"}},[s._v("#")]),s._v(" 分层文件系统")]),s._v(" "),t("p",[s._v("1到3层分别是1-操作系统 2-依赖的库和三方软件 3-应用的软件和配置。上层覆盖下层，写时拷贝原则")]),s._v(" "),t("h5",{attrs:{id:"资源限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#资源限制"}},[s._v("#")]),s._v(" 资源限制")]),s._v(" "),t("p",[t("code",[s._v("docker stats")]),s._v(" 查看当前容器内存资源使用")]),s._v(" "),t("h6",{attrs:{id:"docker内存资源限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker内存资源限制"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://jimmysong.io/docker-handbook/docs/memory_resource_limit.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker内存资源限制"),t("OutboundLink")],1)]),s._v(" "),t("h6",{attrs:{id:"使用-docker-对容器资源进行限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-对容器资源进行限制"}},[s._v("#")]),s._v(" 使用 docker 对容器资源进行限制")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://cizixs.com/2017/08/04/docker-resources-limit/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cizixs.com/2017/08/04/docker-resources-limit/"),t("OutboundLink")],1)]),s._v(" "),t("h4",{attrs:{id:"后台的改动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#后台的改动"}},[s._v("#")]),s._v(" 后台的改动")]),s._v(" "),t("p",[s._v("Nginx配置修改")]),s._v(" "),t("p",[s._v("数据库添加")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("docker build . -t exam:demo\nuwsgi --ini uwsgi.ini\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("windows访问")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('command: ["gunicorn", "-c", "gunicorn_config.py", "manage:app"]\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("TypeError: __call__()\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("需要使用app，而不是manager")]),s._v(" "),t("h5",{attrs:{id:"从docker容器中访问宿主机网络"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从docker容器中访问宿主机网络"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://nyan.im/posts/3981.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("从Docker容器中访问宿主机网络"),t("OutboundLink")],1)]),s._v(" "),t("h6",{attrs:{id:"docker提供的指向宿主机的dns"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker提供的指向宿主机的dns"}},[s._v("#")]),s._v(" Docker提供的指向宿主机的DNS")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("host.docker.internal\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h6",{attrs:{id:"使用docker0网络的默认网关地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用docker0网络的默认网关地址"}},[s._v("#")]),s._v(" 使用docker0网络的默认网关地址")]),s._v(" "),t("p",[s._v("172.17.0.1")]),s._v(" "),t("h6",{attrs:{id:"使用host模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用host模式"}},[s._v("#")]),s._v(" 使用host模式")]),s._v(" "),t("p",[s._v("host网络没有与宿主机网络隔离，可能引发安全隐患或端口冲突")]),s._v(" "),t("p",[s._v("经由docker0网桥而来的流量不经过宿主机的本地回环，因此需要将宿主机上的应用（MySQL，Redis等）配置为监听0.0.0.0")]),s._v(" "),t("p",[s._v("yaml格式自带字符串")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("environment:\n  - platform=hust_jsjxy\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("a",{attrs:{href:"http://localhost:9090/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://localhost:9090/"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("db.create_all()\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("首先，mysqld转储名称为（'fee'，'fi'，'fo'，'fum'）的所有table3行：")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--where=\"name in ('fee','fi','fo','fum')\" mydb table3 > table3.sql")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("接下来，mysqldump从第一个mysqldump中获取具有匹配table3_id值的所有table2行：")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--lock-all-tables --where=\"table3_id in (select id from table3 where name in ('fee','fi','fo','fum'))\" mydb table2 > table2.sql")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后，mysqldump从第二个mysqldump中获取具有匹配table1_id值的所有table1行：")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqldump "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("--lock-all-tables --where=\"id in (select table1_id from table2 where table3_id in (select id from table3 where name in ('fee','fi','fo','fum')))\" mydb table1 > table1.sql")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("em",[s._v("注意：由于第二个和第三个mysqldumps需要使用多个表，因此必须使用--lock-all-tables")]),s._v("。")]),s._v(" "),t("p",[s._v("创建新数据库：")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysqladmin "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" mysqladmin "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" newdb\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("最后，将三个mysqldumps加载到另一个数据库中，然后尝试在新数据库中进行联接。")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[s._v("mysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("D newdb "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" table1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\nmysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("D newdb "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" table2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\nmysql "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("D newdb "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" table3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("ERROR 1227 (42000): Access denied; you need (at least one of) the SUPER privilege(s) for this operation")]),s._v(" "),t("p",[s._v("全局事务标识符（GTID）是创建的唯一标识符，并且与在原始服务器（主服务器）上提交的每个事务相关联。该标识符不仅对于其起源的服务器是唯一的，而且在给定复制设置中的所有服务器之间也是唯一的。所有交易和所有GTID之间都存在一对一的映射")]),s._v(" "),t("p",[s._v("输出文件")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" table1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" table1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" table2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" table2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("level")]),s._v(" \n       "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" table1 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" table2 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" table1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" table2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("table1_id \n       "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" table3 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" table3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" table2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("table3_id\n       "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" table3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fee'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fi'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fo'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fum'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OUTFILE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/tmp/fee-fi-fo-fum.csv'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FIELDS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TERMINATED")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("','")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("OPTIONALLY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENCLOSED")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\"'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LINES")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TERMINATED")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'\\n'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("--tables")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("delete from table1 where id not in (.....);\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://dba.stackexchange.com/questions/4654/is-it-possible-to-mysqldump-a-subset-of-a-database-required-to-reproduce-a-query",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dba.stackexchange.com/questions/4654/is-it-possible-to-mysqldump-a-subset-of-a-database-required-to-reproduce-a-query"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("查看数据库")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("user information_schema;\nselect table_schema,sum(data_length)/1024 from tables group by table_schema;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("admin/result/mark 为空")]),s._v(" "),t("h5",{attrs:{id:"docker容器访问宿主机的mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker容器访问宿主机的mysql"}},[s._v("#")]),s._v(" docker容器访问宿主机的MySQL")]),s._v(" "),t("p",[s._v("使用ifconfig命令可以看到，有一个docker0和eth0，在docker容器中可以通过eth0的IP地址加上端口号（3306）这样就可以连接上宿主机的MySQL了；另外，nginx可以通过docker0的IP地址加上构建容器时指定的端口号进行访问容器")]),s._v(" "),t("p",[s._v("ip防火墙")]),s._v(" "),t("h4",{attrs:{id:"前端的改动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端的改动"}},[s._v("#")]),s._v(" 前端的改动")]),s._v(" "),t("p",[s._v("兼容")]),s._v(" "),t("p",[s._v("静态资源的获取写死")]),s._v(" "),t("h3",{attrs:{id:"dockerfile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[s._v("#")]),s._v(" Dockerfile")]),s._v(" "),t("h5",{attrs:{id:"优化-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优化-2"}},[s._v("#")]),s._v(" 优化")]),s._v(" "),t("p",[s._v("尽量使用缓存构建")]),s._v(" "),t("p",[s._v("多阶段构建，构建和产物做分离")]),s._v(" "),t("p",[s._v("kompose")]),s._v(" "),t("p",[s._v("derrick容器迁移工具")]),s._v(" "),t("h3",{attrs:{id:"备份和恢复-docker-镜像容器和数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#备份和恢复-docker-镜像容器和数据"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"http://einverne.github.io/post/2018/03/docker-related-backup.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("备份和恢复 Docker 镜像容器和数据"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"docker-修改容器的挂载目录三种方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-修改容器的挂载目录三种方式"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://blog.csdn.net/zedelei/article/details/90208183",target:"_blank",rel:"noopener noreferrer"}},[s._v("docker-修改容器的挂载目录三种方式"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("docker commit online-exam-backend_exam_hust_jsjxy_1 exam:hust_jsjxy\ndocker run -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v('/main"')]),s._v(":/code/main -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v('/gunicorn/hust_jsjxy"')]),s._v(":/code/gunicorn -v "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PWD")]),s._v('/migrations/hust_jsjxy"')]),s._v(":/code/migrations exam:hust_jsjxy\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"docker-compose"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" docker compose")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/9eb7cca07e32",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jianshu.com/p/9eb7cca07e32"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"conda"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#conda"}},[s._v("#")]),s._v(" Conda")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("conda env list\nconda info --env\nconda env -h\nconda create -n bakeroom python=3.6\nconda activate bakeroom\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"gunicorn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#gunicorn"}},[s._v("#")]),s._v(" Gunicorn")]),s._v(" "),t("p",[s._v("WSGI，即Web ServerGateway Interface")]),s._v(" "),t("p",[s._v("基于pre-fork worker模式，运行时会有一个Master进程和多个Worker进程。Master是一个中控进程，实现对所有Worker的管理。同时，Master也不会关心客户端，所有的请求与响应都由Worker来完成")]),s._v(" "),t("h5",{attrs:{id:"启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("gunicorn -c gunicorn.conf bakeroom:wsgi\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# django")]),s._v("\ngunicorn -b "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8000 "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# bind")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h5",{attrs:{id:"重启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启"}},[s._v("#")]),s._v(" 重启")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pstree -ap|grep gunicorn\nkill -HUP gunicorn\nkill -9 28097\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h5",{attrs:{id:"停止"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#停止"}},[s._v("#")]),s._v(" 停止")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.gunicorn.org/en/stable/settings.html#",target:"_blank",rel:"noopener noreferrer"}},[s._v("settings"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"工作模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工作模式"}},[s._v("#")]),s._v(" 工作模式")]),s._v(" "),t("ol",[t("li",[s._v("同步Worker：这是最常见也是默认的工作模式。它的实现非常简单，一次只会处理一个请求。但是，它对于高并发的访问性能会比较低。")]),s._v(" "),t("li",[s._v("异步Worker：其基于Greenlets库，通过Eventlet、Gevent实现。注意，使用这种工作模式需要安装对应的库。")]),s._v(" "),t("li",[s._v("异步I/O Worker：目前支持gthread和gaiohttp两种类型。同时，使用gaiohttp需要安装aiohttp库")])]),s._v(" "),t("h5",{attrs:{id:"worker数量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#worker数量"}},[s._v("#")]),s._v(" Worker数量")]),s._v(" "),t("p",[s._v("进程数 (2×$num_cores)+1")]),s._v(" "),t("h5",{attrs:{id:"threads"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#threads"}},[s._v("#")]),s._v(" threads")]),s._v(" "),t("p",[s._v("线程数 The number of worker threads for handling requests")]),s._v(" "),t("p",[s._v("2-4 x $(NUM_CORES) 调节找到最优")]),s._v(" "),t("h4",{attrs:{id:"meinheld"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#meinheld"}},[s._v("#")]),s._v(" Meinheld")]),s._v(" "),t("p",[s._v("异步网络I/O、高性能，符合WSGI的Web服务器")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('--worker-class="egg:meinheld#gunicorn_worker"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Using worker: egg:meinheld#gunicorn_worker\n不能使用threads\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h5",{attrs:{id:"docker模式下"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker模式下"}},[s._v("#")]),s._v(" docker模式下")]),s._v(" "),t("p",[s._v("单线程工作")]),s._v(" "),t("h2",{attrs:{id:"uwsgi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uwsgi"}},[s._v("#")]),s._v(" uWSGI")]),s._v(" "),t("h3",{attrs:{id:"log"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[s._v("#")]),s._v(" log")]),s._v(" "),t("p",[s._v("--logto/--daemonize")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("disable-logging = true\nlog-4xx = true\nlog-5xx = true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"django"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#django"}},[s._v("#")]),s._v(" Django")]),s._v(" "),t("h4",{attrs:{id:"contrib-auth"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contrib-auth"}},[s._v("#")]),s._v(" contrib.auth")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("User"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("create_user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncls"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add_to_class"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'objects'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" manager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Manager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("BaseManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("from_queryset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("QuerySet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ManyToManyField用法")]),s._v("\nArticle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("filter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("publications__title__startswith"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Science"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("distinct"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nArticle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("filter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("publications__in"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("p1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("p2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("distinct"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#返回QuerySet")]),s._v("\nArticle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("objects"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exclude"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("publications"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("p2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\np1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("delete"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\na4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("publications"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("remove"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("p2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\np2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("article_set"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("clear"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h5",{attrs:{id:"django-crontab定时任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#django-crontab定时任务"}},[s._v("#")]),s._v(" django-crontab定时任务")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.zhidaow.com/post/django-crontab",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.zhidaow.com/post/django-crontab"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"migrations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#migrations"}},[s._v("#")]),s._v(" migrations")]),s._v(" "),t("h3",{attrs:{id:"drf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drf"}},[s._v("#")]),s._v(" DRF")]),s._v(" "),t("h5",{attrs:{id:"记录-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#记录-api"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.django-rest-framework.org/topics/documenting-your-api/#documenting-your-api",target:"_blank",rel:"noopener noreferrer"}},[s._v("记录 API"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://swagger.io/tools/swagger-ui/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Swagger UI"),t("OutboundLink")],1),s._v(" and "),t("a",{attrs:{href:"https://github.com/Rebilly/ReDoc",target:"_blank",rel:"noopener noreferrer"}},[s._v("ReDoc"),t("OutboundLink")],1),s._v(".")]),s._v(" "),t("h5",{attrs:{id:"api-客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api-客户端"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.django-rest-framework.org/topics/api-clients/#api-clients",target:"_blank",rel:"noopener noreferrer"}},[s._v("API 客户端"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[s._v("#")]),s._v(" Nginx")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.nginx.com/resources/wiki/start/topics/examples/full/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.nginx.com/resources/wiki/start/topics/examples/full/"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#管理"}},[s._v("#")]),s._v(" 管理")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("nginx\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\nnginx -s reload\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 signal")]),s._v("\nnginx -c /etc/nginx/nginx/conf\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# configuration")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"报文数据替换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#报文数据替换"}},[s._v("#")]),s._v(" 报文数据替换")]),s._v(" "),t("p",[s._v("将报文的数据中包含的绝对路径都添加统一的前缀，如/my/public，/my/api，/my/login")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("proxy_redirect / /my/;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"location"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#location"}},[s._v("#")]),s._v(" location")]),s._v(" "),t("h5",{attrs:{id:"实践-测试方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#实践-测试方法"}},[s._v("#")]),s._v(" 实践+测试方法")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("server {\n    server_name website.com;\n    location /doc {\n        return 701; # 用这样的方式，可以方便的知道请求到了哪里\n    }\n    location ~* ^/document$ {\n        return 702; # 用这样的方式，可以方便的知道请求到了哪里\n\n    }\n}\n\ncurl -I  website.com:8080/document\nHTTP/1.1 702\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h5",{attrs:{id:"修饰符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修饰符"}},[s._v("#")]),s._v(" 修饰符")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("=")]),s._v(" 表示精确匹配。只有请求的url路径与后面的字符串完全相等时，才会命中。")]),s._v(" "),t("li",[t("code",[s._v("~")]),s._v(" 表示该规则是使用正则定义的，区分大小写。")]),s._v(" "),t("li",[t("code",[s._v("~*")]),s._v(" 表示该规则是使用正则定义的，不区分大小写。")]),s._v(" "),t("li",[t("code",[s._v("^~")]),s._v(" 表示如果该符号后面的字符是最佳匹配，采用该规则，不再进行后续的查找")])]),s._v(" "),t("h5",{attrs:{id:"配置-query-string"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-query-string"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://blog.csdn.net/liuxiao723846/article/details/54925328",target:"_blank",rel:"noopener noreferrer"}},[s._v("配置$Query String"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language-nginx line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-nginx"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("upstream")]),s._v(" other "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  \n\t"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("server")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".71")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".41")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2210")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("location")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#if ( $query_string ~* ^(.*)c=config\\b|uplog\\b(.*)$ ){")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$query_string")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"usg=0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("proxy_pass")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("http")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("other"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h5",{attrs:{id:"index指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#index指令"}},[s._v("#")]),s._v(" index指令")]),s._v(" "),t("p",[s._v("使用索引文件会导致内部重定向，并且可以在其他位置处理请求")]),s._v(" "),t("h5",{attrs:{id:"nginx指定文件路径有两种方式root和alias"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx指定文件路径有两种方式root和alias"}},[s._v("#")]),s._v(" nginx指定文件路径有两种方式root和alias")]),s._v(" "),t("h6",{attrs:{id:"root"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#root"}},[s._v("#")]),s._v(" root")]),s._v(" "),t("p",[s._v("root路径＋location路径")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("location /i/ {\n    root /data/w3;\n}\nThe /data/w3/i/top.gif file will be sent in response to the “/i/top.gif” request\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h6",{attrs:{id:"alias"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alias"}},[s._v("#")]),s._v(" alias")]),s._v(" "),t("p",[s._v("使用alias路径替换location路径")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("location /i/ {\n    alias /data/w3/images/;\n}\non request of “/i/top.gif”, the file /data/w3/images/top.gif will be sent.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("a",{attrs:{href:"https://nginx.org/en/docs/ngx_core_module.html#events",target:"_blank",rel:"noopener noreferrer"}},[s._v("events"),t("OutboundLink")],1),s._v("， "),t("a",{attrs:{href:"https://nginx.org/en/docs/http/ngx_http_core_module.html#http",target:"_blank",rel:"noopener noreferrer"}},[s._v("http"),t("OutboundLink")],1),s._v("， "),t("a",{attrs:{href:"https://nginx.org/en/docs/http/ngx_http_core_module.html#server",target:"_blank",rel:"noopener noreferrer"}},[s._v("server"),t("OutboundLink")],1),s._v("和 "),t("a",{attrs:{href:"https://nginx.org/en/docs/http/ngx_http_core_module.html#location",target:"_blank",rel:"noopener noreferrer"}},[s._v("location"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"软技能-编程之外的升值之道"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软技能-编程之外的升值之道"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://developer.aliyun.com/article/707256?spm=a2c6h.12873639.0.0.671ca034vHEqUK",target:"_blank",rel:"noopener noreferrer"}},[s._v("软技能，编程之外的升值之道"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("自我营销")]),s._v(" "),t("h4",{attrs:{id:"职场篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#职场篇"}},[s._v("#")]),s._v(" 职场篇")]),s._v(" "),t("h5",{attrs:{id:"重视人际交往能力"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重视人际交往能力"}},[s._v("#")]),s._v(" 重视人际交往能力")]),s._v(" "),t("p",[s._v("如果希望人们接受你的想法，并认可其中的价值，首先最好先主动给他人相同的待遇。如果你不能保全他人的自尊，那你永远不可能赢得他的心")]),s._v(" "),t("h5",{attrs:{id:"晋升建议"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#晋升建议"}},[s._v("#")]),s._v(" 晋升建议")]),s._v(" "),t("ol",[t("li",[s._v("承担更多的责任")]),s._v(" "),t("li",[s._v("恰当的引起别人的注意")])]),s._v(" "),t("p",[s._v("选择有用的话题，提供演讲和培训")]),s._v(" "),t("h6",{attrs:{id:"分享每周有意思的技术点-周报"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分享每周有意思的技术点-周报"}},[s._v("#")]),s._v(" 分享每周有意思的技术点(周报)")]),s._v(" "),t("h6",{attrs:{id:"本周docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本周docker"}},[s._v("#")]),s._v(" 本周Docker")]),s._v(" "),t("h6",{attrs:{id:"下周mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下周mysql"}},[s._v("#")]),s._v(" 下周Mysql")]),s._v(" "),t("p",[s._v("争取多发表意见")]),s._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[s._v("成为问题解决者")])]),s._v(" "),t("h6",{attrs:{id:"帮助其他组的同学解决问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#帮助其他组的同学解决问题"}},[s._v("#")]),s._v(" 帮助其他组的同学解决问题")]),s._v(" "),t("p",[s._v("在项目组、团队中实践")]),s._v(" "),t("h4",{attrs:{id:"自我营销篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自我营销篇"}},[s._v("#")]),s._v(" 自我营销篇")]),s._v(" "),t("h5",{attrs:{id:"个人网站-博客"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#个人网站-博客"}},[s._v("#")]),s._v(" 个人网站-博客")]),s._v(" "),t("p",[s._v("每周一篇")]),s._v(" "),t("p",[s._v("个人公众号")]),s._v(" "),t("p",[s._v("技术会议")]),s._v(" "),t("h4",{attrs:{id:"学习篇"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#学习篇"}},[s._v("#")]),s._v(" 学习篇")]),s._v(" "),t("h5",{attrs:{id:"掌握技术的三个要点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#掌握技术的三个要点"}},[s._v("#")]),s._v(" 掌握技术的三个要点")]),s._v(" "),t("ol",[t("li",[s._v("如何开始--前置条件，自己不知道什么")])]),s._v(" "),t("p",[s._v("函数、局域池、schema，基本概念")]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[s._v("学科范围--先轮廓、后细节")]),s._v(" "),t("li",[s._v("基础知识--二八原理，20%的核心知识满足80%的应用")])]),s._v(" "),t("h5",{attrs:{id:"_10步学习法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10步学习法"}},[s._v("#")]),s._v(" 10步学习法")]),s._v(" "),t("p",[s._v("1了解全局")]),s._v(" "),t("p",[s._v("Mysql，多用户且健壮的SQL（结构化查询语言）数据库服务器")]),s._v(" "),t("h5",{attrs:{id:"多线程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多线程"}},[s._v("#")]),s._v(" 多线程")]),s._v(" "),t("p",[s._v("可使用多个CPU")]),s._v(" "),t("p",[t("strong",[s._v("关系型")])]),s._v(" "),t("p",[s._v("结构化查询语言SQL")]),s._v(" "),t("p",[s._v("支持标准SQL和ODBC(Open Database Connectivity，开放数据库互连)语法")]),s._v(" "),t("p",[s._v("用C和C ++编写")]),s._v(" "),t("p",[s._v("提供事务性和非事务性存储引擎")]),s._v(" "),t("p",[s._v("使用"),t("code",[s._v("MyISAM")]),s._v("索引压缩非常快的B树磁盘表")]),s._v(" "),t("p",[s._v("命令行程序（例如 "),t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/mysqldump.html",target:"_blank",rel:"noopener noreferrer"}},[t("strong",[s._v("mysqldump")]),t("OutboundLink")],1),s._v("和 "),t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/mysqladmin.html",target:"_blank",rel:"noopener noreferrer"}},[t("strong",[s._v("mysqladmin")]),t("OutboundLink")],1),s._v("）以及图形程序（例如 "),t("a",{attrs:{href:"https://dev.mysql.com/doc/refman/8.0/en/workbench.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL Workbench）"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("2确定范围")]),s._v(" "),t("p",[s._v("优化")]),s._v(" "),t("p",[s._v("3定义目标")]),s._v(" "),t("p",[s._v("4寻找资源")]),s._v(" "),t("h3",{attrs:{id:"华科论道"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#华科论道"}},[s._v("#")]),s._v(" 华科论道")]),s._v(" "),t("h5",{attrs:{id:"新基建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新基建"}},[s._v("#")]),s._v(" 新基建")]),s._v(" "),t("p",[s._v("ABCDE")]),s._v(" "),t("h5",{attrs:{id:"ai"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ai"}},[s._v("#")]),s._v(" AI")]),s._v(" "),t("p",[s._v("医疗公司")]),s._v(" "),t("p",[s._v("先搭建远程会诊系统，收集")]),s._v(" "),t("p",[s._v("AI的难度在于如何收集数据")]),s._v(" "),t("h5",{attrs:{id:"block-chain区块链"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#block-chain区块链"}},[s._v("#")]),s._v(" Block chain区块链")]),s._v(" "),t("p",[s._v("facebook libra 联盟币")]),s._v(" "),t("p",[s._v("区别于比特币")]),s._v(" "),t("p",[s._v("基因数据的保密，匿名提供，充分保护个人信息")]),s._v(" "),t("p",[s._v("金融等保护性强的领域")]),s._v(" "),t("p",[s._v("性能的局限性")]),s._v(" "),t("h5",{attrs:{id:"cloud"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cloud"}},[s._v("#")]),s._v(" Cloud")]),s._v(" "),t("p",[s._v("从集装箱到Docker")]),s._v(" "),t("p",[s._v("云计算可以分为三层，一层的基础设施主要包括网络系统（networking）、存储设备（storage）、服务器（servers）、虚拟化技术（virtualization）。而二层的平台是在基础设施之上的，还包括操作系统（OS）、中间件（middleware）以及运行库（runtime）。最后一层就是软件了，就是在平台的基础上，还添加了数据（date）与应用（application）。")]),s._v(" "),t("p",[s._v("这就是云计算的三个分层，基础设施在最末端，平台处在中间，软件则处在最顶层，分别是Infrastructure-as-a-Service(IaaS)、Platform-as-a-Service(PaaS)、Software-as-a-Service(SaaS)，而别的一些“层”可以在它们之上继续添加")]),s._v(" "),t("p",[s._v("公有云、私有、混合")]),s._v(" "),t("p",[s._v("AWS")]),s._v(" "),t("p",[s._v("规模效应")]),s._v(" "),t("h5",{attrs:{id:"data"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#data"}},[s._v("#")]),s._v(" Data")]),s._v(" "),t("p",[s._v("数字经济的石油")]),s._v(" "),t("p",[s._v("勇士队，便宜的球队，好的数据分析团队")]),s._v(" "),t("p",[s._v("阿里大中台")]),s._v(" "),t("h5",{attrs:{id:"edge-computing边缘计算"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#edge-computing边缘计算"}},[s._v("#")]),s._v(" Edge Computing边缘计算")]),s._v(" "),t("p",[s._v("跨时代和创新和颠覆")]),s._v(" "),t("p",[s._v("实时或更快的数据分析")]),s._v(" "),t("p",[s._v("减少云端网络流量")]),s._v(" "),t("p",[s._v("相对于云计算")]),s._v(" "),t("p",[s._v("合久必分，分久必合")]),s._v(" "),t("p",[s._v("5G三大特性")]),s._v(" "),t("p",[s._v("eMBB（enhanced Mobile Broadband）")]),s._v(" "),t("p",[s._v("AR、VR")]),s._v(" "),t("p",[s._v("大规模机器通信mMTC")]),s._v(" "),t("p",[s._v("物联网")]),s._v(" "),t("p",[s._v("超高可靠低时延uRLLC")]),s._v(" "),t("p",[s._v("车联网、远程医疗")]),s._v(" "),t("p",[s._v("SA独立组网")]),s._v(" "),t("h5",{attrs:{id:"科技创新如何落地"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#科技创新如何落地"}},[s._v("#")]),s._v(" 科技创新如何落地")]),s._v(" "),t("p",[s._v("一波三折")]),s._v(" "),t("p",[s._v("对短期乐观，对长期悲观")]),s._v(" "),t("p",[s._v("PPTV")]),s._v(" "),t("p",[s._v("2004-2006")]),s._v(" "),t("p",[s._v("流媒体直播项目外包")]),s._v(" "),t("p",[s._v("2VC，活下去，积累技术")]),s._v(" "),t("p",[s._v("B2B")]),s._v(" "),t("p",[s._v("06-08")]),s._v(" "),t("p",[s._v("PPLive")]),s._v(" "),t("p",[s._v("电视台和运营商直播")]),s._v(" "),t("p",[s._v("风口，前期的技术规模化，可复制化")]),s._v(" "),t("p",[s._v("B2C")]),s._v(" "),t("p",[s._v("09")]),s._v(" "),t("p",[s._v("PPTV.com")]),s._v(" "),t("p",[s._v("技术成熟和过剩的阶段")]),s._v(" "),t("p",[s._v("3年前AI人才很贵，现在AI和10年前ios一样便宜")]),s._v(" "),t("h5",{attrs:{id:"科技创业的大坑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#科技创业的大坑"}},[s._v("#")]),s._v(" 科技创业的大坑")]),s._v(" "),t("p",[s._v("发现痛点，提供解决方案，价值网络，盈利模式的设定")]),s._v(" "),t("p",[s._v("手中有锤子的人，很容易把世界上的一切看成钉子")]),s._v(" "),t("p",[s._v("旧瓶新酒到新瓶新酒")]),s._v(" "),t("p",[s._v("PPIO")]),s._v(" "),t("p",[s._v("集合全球闲置资源，为全人类服务")]),s._v(" "),t("p",[s._v("BE")]),s._v(" "),t("h2",{attrs:{id:"sh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sh"}},[s._v("#")]),s._v(" sh")]),s._v(" "),t("h5",{attrs:{id:"ubuntu执行-sh文件几种方式区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu执行-sh文件几种方式区别"}},[s._v("#")]),s._v(" ubuntu执行.sh文件几种方式区别")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/u012336923/article/details/50474692",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/u012336923/article/details/50474692"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("判断文件夹存在/是否为空")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('if [ ! -d "./migrations" ]\nif [ "`ls -A /code/migrations`" = "" ]\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"supervisorctl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supervisorctl"}},[s._v("#")]),s._v(" supervisorctl")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.jianshu.com/p/0226b7c59ae2",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.jianshu.com/p/0226b7c59ae2"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"python编写的一个多进程管理工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python编写的一个多进程管理工具"}},[s._v("#")]),s._v(" Python编写的一个多进程管理工具")]),s._v(" "),t("h5",{attrs:{id:"启动-开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动-开始"}},[s._v("#")]),s._v(" 启动/开始")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("supervisord -c /etc/supervisord.conf\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"重启-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#重启-2"}},[s._v("#")]),s._v(" 重启")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" supervisord restart\nsystemctl start supervisord.service     //启动supervisor并加载默认配置文件\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" supervisord.service    //将supervisor加入开机启动项\nsupervisorctl status        //查看所有进程的状态\nsupervisorctl stop es       //停止es\nsupervisorctl start es      //启动es\nsupervisorctl restart       //重启es\nsupervisorctl update        //配置文件修改后使用该命令加载新的配置\nsupervisorctl reload        //重新启动配置中的所有程序\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h4",{attrs:{id:"配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[s._v("#")]),s._v(" 配置文件")]),s._v(" "),t("p",[t("a",{attrs:{href:"http://supervisord.org/configuration.html#program-x-section-settings",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://supervisord.org/configuration.html#program-x-section-settings"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"supervisor配置文件-etc-superviosr-supervisord-conf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supervisor配置文件-etc-superviosr-supervisord-conf"}},[s._v("#")]),s._v(" supervisor配置文件："),t("code",[s._v("/etc/superviosr/supervisord.conf")])]),s._v(" "),t("h5",{attrs:{id:"子进程配置文件路径-etc-supervisor-conf-d"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子进程配置文件路径-etc-supervisor-conf-d"}},[s._v("#")]),s._v(" 子进程配置文件路径："),t("code",[s._v("/etc/supervisor/conf.d/")])]),s._v(" "),t("div",{staticClass:"language-ini line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[include]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("files")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" /etc/supervisor/*.conf")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[unix_http_server]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" /tmp/supervisor.sock")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("pidfile")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" /tmp/supervisor.pid")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token selector"}},[s._v("[program:bake-socket]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("command")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("bash -c '/home/jestiny/www/bakeroom/socket-script.sh restart'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("autostart")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("autorestart")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("stderr_logfile")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("/var/log/bake/jian_err.log")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("stdout_logfile")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v("/var/log/bake/jian_out.log")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v(";socket-script.sh(start stop restart)")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("p",[s._v("采用socket方式管理而非端口，更加安全")]),s._v(" "),t("p",[s._v("unix:///var/run/supervisor.sock no such file")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Another program is already listening on a port that one of our HTTP servers is configured to use.  Shut this program down first before starting supervisord.\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#容器"}},[s._v("#")]),s._v(" 容器")]),s._v(" "),t("p",[s._v("利用Supervisor来管理容器中的多个进程")]),s._v(" "),t("h2",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[s._v("#")]),s._v(" Redis")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("redis-cli\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入交互窗口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("初始化")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("redis-server\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# default conf")]),s._v("\nredis-server /etc/redis/redis.conf\n/usr/local/redis/bin/redis-server "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:6379\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("重启")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/etc/init.d/redis-server stop\n/etc/init.d/redis-server start\n/etc/init.d/redis-server restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h5",{attrs:{id:"使用systemctl控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用systemctl控制"}},[s._v("#")]),s._v(" 使用systemctl控制")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/chwshuang/article/details/68489968",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/chwshuang/article/details/68489968"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("code",[s._v("/lib/systemd/system")])]),s._v(" "),t("p",[s._v("redis.service")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl status redis-server.service\nsystemctl daemon-reload\nsystemctl restart redis\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("Job for redis-server.service failed because a configured resource limit was exceeded.")]),s._v(" "),t("h5",{attrs:{id:"使用service控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用service控制"}},[s._v("#")]),s._v(" 使用service控制")]),s._v(" "),t("p",[t("code",[s._v("/etc/init.d/")])]),s._v(" "),t("h5",{attrs:{id:"redis支持多个数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis支持多个数据库"}},[s._v("#")]),s._v(" Redis支持多个数据库")]),s._v(" "),t("p",[s._v("使用1分区")]),s._v(" "),t("p",[t("code",[s._v("redis://127.0.0.1/1")])]),s._v(" "),t("p",[s._v("每个数据库的数据是隔离的不能共享")]),s._v(" "),t("p",[s._v("多个数据库之间并不是完全隔离的，比如FLUSHALL命令可以清空一个Redis实例中所有数据库中的数据")]),s._v(" "),t("h4",{attrs:{id:"python"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python"}},[s._v("#")]),s._v(" python")]),s._v(" "),t("p",[s._v("参考：https://www.runoob.com/w3cnote/python-redis-intro.html")]),s._v(" "),t("p",[s._v("redis 提供两个类 Redis 和 StrictRedis, StrictRedis 用于实现大部分官方的命令，Redis 是 StrictRedis 的子类")]),s._v(" "),t("p",[s._v("使用 connection pool 来管理对一个 redis server 的所有连接，避免每次建立、释放连接的开销")]),s._v(" "),t("h4",{attrs:{id:"flask"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flask"}},[s._v("#")]),s._v(" flask")]),s._v(" "),t("h2",{attrs:{id:"ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh"}},[s._v("#")]),s._v(" ssh")]),s._v(" "),t("p",[s._v("端口转发：隧道")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.zsythink.net/archives/2450",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.zsythink.net/archives/2450"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"jittor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jittor"}},[s._v("#")]),s._v(" jittor")]),s._v(" "),t("p",[s._v("可视化权重 "),t("a",{attrs:{href:"https://discuss.pytorch.org/t/understanding-deep-network-visualize-weights/2060",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://discuss.pytorch.org/t/understanding-deep-network-visualize-weights/2060"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"深度学习模型的可视化技术总结-plt-https-www-cnblogs-com-greentomlee-p-9599277-html"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#深度学习模型的可视化技术总结-plt-https-www-cnblogs-com-greentomlee-p-9599277-html"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.cnblogs.com/greentomlee/p/9599277.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("深度学习模型的可视化技术总结"),t("OutboundLink")],1),s._v(" plt "),t("a",{attrs:{href:"https://www.cnblogs.com/greentomlee/p/9599277.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.cnblogs.com/greentomlee/p/9599277.html"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"visdom"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#visdom"}},[s._v("#")]),s._v(" "),t("strong",[s._v("visdom")])]),s._v(" "),t("p",[t("a",{attrs:{href:"https://cg.cs.tsinghua.edu.cn/jittor/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cg.cs.tsinghua.edu.cn/jittor/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("进一步理解卷积vgg "),t("a",{attrs:{href:"https://www.bbsmax.com/A/pRdBk2YPzn/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.bbsmax.com/A/pRdBk2YPzn/"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"融合算子优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#融合算子优化"}},[s._v("#")]),s._v(" 融合算子优化")]),s._v(" "),t("p",[s._v("eg:卷积")]),s._v(" "),t("p",[s._v("这是就元算子的优化技巧，它可以将多个算子融合为一个复杂的融合算子，包括许多卷积的变化")]),s._v(" "),t("h3",{attrs:{id:"图像处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图像处理"}},[s._v("#")]),s._v(" 图像处理")]),s._v(" "),t("p",[s._v("PCA")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://setosa.io/ev/principal-component-analysis/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://setosa.io/ev/principal-component-analysis/"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"数据增强"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据增强"}},[s._v("#")]),s._v(" 数据增强")]),s._v(" "),t("p",[s._v("2-norm 平方的平方根 模")]),s._v(" "),t("p",[s._v("在分类效果中cross效果优于其他loss")]),s._v(" "),t("p",[s._v("卷积的原理")]),s._v(" "),t("p",[s._v("MegEngine")]),s._v(" "),t("p",[s._v("动态图 静态图")]),s._v(" "),t("p",[s._v("神经网络加速 fusion")]),s._v(" "),t("p",[s._v("SWIG")]),s._v(" "),t("p",[s._v("感受野")]),s._v(" "),t("p",[s._v("卷积核的累计扩大感受野")]),s._v(" "),t("p",[s._v("优化器很重要")]),s._v(" "),t("p",[s._v("BN取代dropout")]),s._v(" "),t("p",[s._v("dropout使得网络比较深时")]),s._v(" "),t("p",[s._v("解决梯度传不回来的问题")]),s._v(" "),t("p",[s._v("adagrad 使得梯度比较稳定")]),s._v(" "),t("p",[s._v("超参数搜索")]),s._v(" "),t("p",[s._v("矩阵乘法的编译器")]),s._v(" "),t("p",[s._v("c++层的编译优化")]),s._v(" "),t("p",[s._v("reindex不全，多对一")]),s._v(" "),t("p",[s._v("large margin softmax classifier")]),s._v(" "),t("p",[s._v("pytorch")]),s._v(" "),t("p",[s._v("编译，矩阵乘法")]),s._v(" "),t("p",[s._v("元算子")]),s._v(" "),t("p",[s._v("统一计算图")]),s._v(" "),t("p",[s._v("cudnn")]),s._v(" "),t("p",[s._v("根据历史数据，自动选择最优的卷积算法")]),s._v(" "),t("p",[s._v("扩展重索引")]),s._v(" "),t("p",[s._v("tensorflow")]),s._v(" "),t("p",[s._v("实现组卷积")]),s._v(" "),t("h2",{attrs:{id:"pytorch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pytorch"}},[s._v("#")]),s._v(" Pytorch")]),s._v(" "),t("h4",{attrs:{id:"tensor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tensor"}},[s._v("#")]),s._v(" Tensor")]),s._v(" "),t("p",[s._v("numpy")]),s._v(" "),t("h4",{attrs:{id:"动态计算图dcg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态计算图dcg"}},[s._v("#")]),s._v(" 动态计算图DCG")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -Nf -L "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10022")]),s._v(":192.168.0.44:10022 -p2222  public@dian.org.cn\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" -p10022 root@localhost\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"课设"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#课设"}},[s._v("#")]),s._v(" 课设")]),s._v(" "),t("p",[s._v("AI穿衣、换衣")]),s._v(" "),t("p",[s._v("http://www.xuan6.com/m/view.php?aid=131220")]),s._v(" "),t("p",[s._v("https://www.zhihu.com/question/20042084")]),s._v(" "),t("p",[s._v("风格转换")]),s._v(" "),t("p",[s._v("迁移学习")]),s._v(" "),t("p",[s._v("CNN")]),s._v(" "),t("p",[s._v("GAN")]),s._v(" "),t("h3",{attrs:{id:"tensorflow"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tensorflow"}},[s._v("#")]),s._v(" tensorflow")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/29841665",target:"_blank",rel:"noopener noreferrer"}},[s._v("用GPU加速深度学习: Windows安装CUDA+TensorFlow教程"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("1迁移到2.1")]),s._v(" "),t("p",[s._v('tf_upgrade_v2 --infile "1.x的代码文件" -outfile "2.x的代码文件"')]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('tf_upgrade_v2 --infile "1.x的代码文件" -outfile "2.x的代码文件"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("TensorFlow 支持 CUDA 10.1（TensorFlow 2.1.0 及更高版本）")]),s._v(" "),t("p",[s._v("cuda 10.1")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://developer.nvidia.com/cudnn",target:"_blank",rel:"noopener noreferrer"}},[s._v("cuDNN SDK"),t("OutboundLink")],1),s._v("（7.6 及更高版本）")]),s._v(" "),t("p",[s._v("scipy.misc")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("matplotlib.pyplot.imread/imsave\nnp.array(Image.fromarray(image).resize((IMAGE_H, IMAGE_W)))\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"图像迁移"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图像迁移"}},[s._v("#")]),s._v(" 图像迁移")]),s._v(" "),t("h5",{attrs:{id:"内容损失"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内容损失"}},[s._v("#")]),s._v(" 内容损失")]),s._v(" "),t("p",[s._v("$$\n\\sum_{i,j}(F_{ij}-P_{ij})^2\n$$")]),s._v(" "),t("p",[s._v("取conv4_2")]),s._v(" "),t("p",[s._v("差的平方再均一化")]),s._v(" "),t("p",[s._v("特征图的个数=通道数=图像的深度（初始为3）")]),s._v(" "),t("h5",{attrs:{id:"风格损失"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#风格损失"}},[s._v("#")]),s._v(" 风格损失")]),s._v(" "),t("p",[s._v("Gram 格拉姆矩阵")]),s._v(" "),t("p",[s._v("v1,v2,⋯,vn是内积空间的一组向量，Gram矩阵定义为： Gij=⟨vi,vj⟩，显然其是对称矩阵")]),s._v(" "),t("p",[s._v("其实对于一个XN⋅dXN⋅d（N 个样本，d 个属性）的样本矩阵而言，X⋅X′ 即为 Gram 矩阵")]),s._v(" "),t("p",[s._v("如果 v1,v2,⋯,vn分别是随机向量，则 Gram 矩阵是协方差矩阵\n$$\nG_{ij}^l=\\sum_kF_{ik}^lF_{jk}^l\\\nE_l=\\frac{1}{4N_l^2M_l^2}\\sum_{i,j}(G_{ij}^l-A_{ij}^l)^2\\\nStyleLoss=\\sum_{l=0}^Lw_lE_l\n$$")]),s._v(" "),t("h2",{attrs:{id:"sqlclchemy"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sqlclchemy"}},[s._v("#")]),s._v(" sqlclchemy")]),s._v(" "),t("p",[s._v("大量官方和非官方文档")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.sqlalchemy.org/library.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.sqlalchemy.org/library.html"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/orm/tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.sqlalchemy.org/en/13/orm/tutorial.html"),t("OutboundLink")],1),s._v(" 官方")]),s._v(" "),t("p",[s._v("连接池操作，对象关系配置，持久性操作，属性突变事件和事务处理阶段内")]),s._v(" "),t("h5",{attrs:{id:"连接池"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接池"}},[s._v("#")]),s._v(" 连接池")]),s._v(" "),t("p",[s._v("官方："),t("a",{attrs:{href:"http://lib.csdn.net/base/mysql",target:"_blank",rel:"noopener noreferrer"}},[s._v("数据库"),t("OutboundLink")],1),s._v("连接池（Connection pooling）是程序启动时建立足够的数据库连接，并将这些连接组成一个连接池，由程序动态地对池中的连接进行申请，使用，释放。\n个人理解：创建数据库连接是一个很耗时的操作，也容易对数据库造成安全隐患。所以，在程序初始化的时候，集中创建多个数据库连接，并把他们集中管理，供程序使用，可以保证较快的数据库读写速度，还更加安全可靠")]),s._v(" "),t("p",[s._v("create_engine")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("create_engine(\"mysql://scott:tiger@hostname/dbname\",encoding='latin1', echo=True)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("调用本身并"),t("strong",[s._v("没有")]),s._v(" 直接建立任何实际DBAPI连接")]),s._v(" "),t("p",[s._v("返回值"),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/core/engines.html#sqlalchemy.create_engine",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("create_engine()")]),t("OutboundLink")],1),s._v("是的一个实例 "),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/core/connections.html#sqlalchemy.engine.Engine",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Engine")]),t("OutboundLink")],1),s._v("，它表示数据库的核心接口，通过处理该数据库和所用"),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/glossary.html#term-dbapi",target:"_blank",rel:"noopener noreferrer"}},[s._v("DBAPI"),t("OutboundLink")],1),s._v("详细信息的方言进行改编。在这种情况下，SQLite方言将解释对Python内置 模块的指令")]),s._v(" "),t("p",[s._v("The first time a method like "),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/core/connections.html#sqlalchemy.engine.Engine.execute",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Engine.execute()")]),t("OutboundLink")],1),s._v(" or "),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/core/connections.html#sqlalchemy.engine.Engine.connect",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Engine.connect()")]),t("OutboundLink")],1),s._v(" is called, the "),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/core/connections.html#sqlalchemy.engine.Engine",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Engine")]),t("OutboundLink")],1),s._v(" establishes a real "),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/glossary.html#term-dbapi",target:"_blank",rel:"noopener noreferrer"}},[s._v("DBAPI"),t("OutboundLink")],1),s._v(" connection to the database, which is then used to emit the SQL. When using the ORM, we typically don’t use the "),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/core/connections.html#sqlalchemy.engine.Engine",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Engine")]),t("OutboundLink")],1),s._v(" directly once created; instead, it’s used behind the scenes by the ORM as we’ll see shortly.")]),s._v(" "),t("h5",{attrs:{id:"sessionmaker创建会话"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sessionmaker创建会话"}},[s._v("#")]),s._v(" sessionmaker创建会话")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/orm/session_basics.html#session-faq-whentocreate",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://docs.sqlalchemy.org/en/13/orm/session_basics.html#session-faq-whentocreate"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Session = sessionmaker(bind=engine)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("我们定义了一个"),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/orm/session_api.html#sqlalchemy.orm.session.Session",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Session")]),t("OutboundLink")],1),s._v("类，它将用作新"),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/orm/session_api.html#sqlalchemy.orm.session.Session",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Session")]),t("OutboundLink")],1),s._v(" "),t("strong",[s._v("对象的工厂")])]),s._v(" "),t("p",[s._v("，每当需要与数据库对话时，都实例化一个"),t("a",{attrs:{href:"https://docs.sqlalchemy.org/en/13/orm/session_api.html#sqlalchemy.orm.session.Session",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Session")]),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("session = Session()\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"声明一个映射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#声明一个映射"}},[s._v("#")]),s._v(" 声明一个映射")]),s._v(" "),t("h2",{attrs:{id:"信息论"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#信息论"}},[s._v("#")]),s._v(" 信息论")]),s._v(" "),t("h5",{attrs:{id:"自信息量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自信息量"}},[s._v("#")]),s._v(" 自信息量")]),s._v(" "),t("p",[s._v("联合自信息量")]),s._v(" "),t("h5",{attrs:{id:"条件自信息量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件自信息量"}},[s._v("#")]),s._v(" 条件自信息量")]),s._v(" "),t("p",[s._v("已看了发的是0，又去看到收的符号的确是0，得到多少新信息？")]),s._v(" "),t("p",[s._v("$I(v0|u0)$")]),s._v(" "),t("p",[s._v("互信息量")]),s._v(" "),t("p",[s._v("信源熵")]),s._v(" "),t("p",[s._v("X代表信源整体的随机变量")]),s._v(" "),t("h5",{attrs:{id:"条件熵"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#条件熵"}},[s._v("#")]),s._v(" 条件熵")]),s._v(" "),t("p",[s._v("$$\nH(X|Y)=-\\sum_{i=1}^n\\sum_{j=1}^np(a_jb_i)log_2 (a_j/b_i)\n$$")]),s._v(" "),t("h5",{attrs:{id:"联合熵"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#联合熵"}},[s._v("#")]),s._v(" 联合熵")]),s._v(" "),t("p",[s._v("$$\nH(XY)=H(X)+H(Y|X)=-\\sum_{i=1}^n\\sum_{j=1}^np(a_jb_i)log_2 (a_jb_i)\n$$")]),s._v(" "),t("h5",{attrs:{id:"互信息量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#互信息量"}},[s._v("#")]),s._v(" 互信息量")]),s._v(" "),t("p",[s._v("$$\nI(a_i;b_j)=log_2\\frac{p(a_i/b_i)}{p(a_i)}=log_2\\frac{后验概率}{先验}"),t("br"),s._v("\n可正可负\n$$")]),s._v(" "),t("h5",{attrs:{id:"平均互信息量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#平均互信息量"}},[s._v("#")]),s._v(" 平均互信息量")]),s._v(" "),t("p",[s._v("$$\nI(X;Y)=H(X)-H(X|Y)=\\sum_{i=1}^n\\sum_{j=1}^np(a_jb_i)\\frac{log_2 (a_j/b_i)}{p(a_j)}=I(Y;X)\n$$")]),s._v(" "),t("h6",{attrs:{id:"无条件熵和条件熵之差"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无条件熵和条件熵之差"}},[s._v("#")]),s._v(" 无条件熵和条件熵之差")]),s._v(" "),t("p",[s._v("F $H(v|u)$")]),s._v(" "),t("p",[s._v("G 联合熵")]),s._v(" "),t("p",[s._v("H后验条件熵 $H(u|v)$")]),s._v(" "),t("p",[s._v("I、J $I(u;v)$")]),s._v(" "),t("p",[s._v("K $I(v;u)=I(u;v)$")]),s._v(" "),t("h5",{attrs:{id:"连续信源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连续信源"}},[s._v("#")]),s._v(" 连续信源")]),s._v(" "),t("p",[s._v("熵\n$$\nH_c(X)=-\\int_Rp(x)log_2p(x)dx\n$$")]),s._v(" "),t("p",[s._v("最大连续熵定理")]),s._v(" "),t("p",[s._v("限峰值功率")]),s._v(" "),t("p",[s._v("限平均功率")]),s._v(" "),t("h5",{attrs:{id:"熵功率"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#熵功率"}},[s._v("#")]),s._v(" 熵功率")]),s._v(" "),t("p",[s._v("不能看干扰的功率，要看干扰的熵")]),s._v(" "),t("p",[s._v("功率为0.01的高斯分布也可能造成误差")]),s._v(" "),t("p",[s._v("所以功率越大，干扰不一定越大，与噪声的熵有关")]),s._v(" "),t("h3",{attrs:{id:"信道编码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#信道编码"}},[s._v("#")]),s._v(" 信道编码")]),s._v(" "),t("p",[s._v("信道容量C")]),s._v(" "),t("p",[s._v("强对称\n$$\nH(Y/X)=H_{ni}\\\nC=max[H(Y)-H_{ni}]\\\nC=1-H(p)\\\nH(p)=-(plog_2p+\\overline{p}log_2\\overline{p})\n$$")]),s._v(" "),t("p",[s._v("一般解\n$$\n\\beta\n$$")]),s._v(" "),t("h3",{attrs:{id:"离散无失真信源编码定理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#离散无失真信源编码定理"}},[s._v("#")]),s._v(" 离散无失真信源编码定理")]),s._v(" "),t("p",[s._v("$D_j:ai转bj的各种失真$\n$$\nD_{max}=min\\sum_{j=1}^mp(b_j)D_j\n$$\n最小平均失真度$D_{min}$\n$$\nD_{min}=\\sum_{i=1}^np(a_i)min_jd(a_i,b_j)\n$$\n信道转移矩阵")]),s._v(" "),t("h4",{attrs:{id:"定长编码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定长编码"}},[s._v("#")]),s._v(" 定长编码")]),s._v(" "),t("p",[s._v("平均每个符号的信息量/平均符号熵 $\\frac {K{log_2 m}}{L}$")]),s._v(" "),t("p",[s._v("码字平均长度$\\overline{K}$")]),s._v(" "),t("p",[s._v("有记忆")]),s._v(" "),t("p",[s._v("增量：更加独立，需要的比特数更少")]),s._v(" "),t("p",[s._v("预测：人工智能")]),s._v(" "),t("ol",[t("li",[s._v("线性LP获得增量序列")]),s._v(" "),t("li",[s._v("对增量序列进行霍夫曼编码")])]),s._v(" "),t("p",[s._v("卷积码，Turbo，LDPC，Polar")]),s._v(" "),t("p",[s._v("信道容量$C=max_{p(a_i)R}$")]),s._v(" "),t("h3",{attrs:{id:"信息率失真函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#信息率失真函数"}},[s._v("#")]),s._v(" 信息率失真函数")]),s._v(" "),t("p",[s._v("互信息量的最小值，最小为0")]),s._v(" "),t("p",[s._v("计算语音压缩的极限，语音可视为高斯信源，要求编码后SNR 26dB, 8kHz采样，不考虑相关，可压缩到多少？")]),s._v(" "),t("p",[s._v("采样率*R(D)=信息率(bps)\t34kbps,17kbps(考虑相关)")]),s._v(" "),t("p",[s._v("波性编码，现在不是波性编码，语音模型编码器，参量编码器")]),s._v(" "),t("p",[s._v("信息率R，平均互信息量")]),s._v(" "),t("p",[s._v("信源编码")]),s._v(" "),t("p",[s._v("R(D):给定信源和可容忍的失真度，信源编码所必须的最小平均互信息量，反应的是允许失真下信源的可压缩程度")]),s._v(" "),t("h3",{attrs:{id:"香农定理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#香农定理"}},[s._v("#")]),s._v(" 香农定理")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://wiki.mbalib.com/w/images/math/5/8/9/58960e742d849efb2ae38123002fe0c4.png",alt:"C=B\\log_{2}{(1+\\frac{S}{N})}=B\\log_{2}{(1+\\frac{S}{n_o B})}"}})]),s._v(" "),t("h4",{attrs:{id:"三大定理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三大定理"}},[s._v("#")]),s._v(" 三大定理")]),s._v(" "),t("h5",{attrs:{id:"可变长无失真信源编码定理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#可变长无失真信源编码定理"}},[s._v("#")]),s._v(" 可变长无失真信源编码定理")]),s._v(" "),t("p",[s._v("最优编码的存在性定理 ,该定理指出了要做到无失真信源编码 ,每个信源符号平均所需要的最少的码元数 ,同时 ,该定理指出了最优码的存在性")]),s._v(" "),t("h5",{attrs:{id:"有噪信道编码定理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#有噪信道编码定理"}},[s._v("#")]),s._v(" 有噪信道编码定理")]),s._v(" "),t("p",[s._v("给出了信道无差错传输时码率的上界")]),s._v(" "),t("p",[s._v("如果 C是一个离散无记忆信道 的信道容量 ,那么 C必是该离散无记忆信道序列的一个可达速率")]),s._v(" "),t("h5",{attrs:{id:"保真度准则下的信源编码定理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保真度准则下的信源编码定理"}},[s._v("#")]),s._v(" 保真度准则下的信源编码定理")]),s._v(" "),t("p",[s._v("有损信源编码定理，只要码长足够长，总可以找到一种信源编码，使编码后的信息传输率略大于率失真函数，而码的平均失真度不大于给定的允许失真度")]),s._v(" "),t("p",[s._v("语音信号")]),s._v(" "),t("p",[s._v("信号功率/噪声功率")]),s._v(" "),t("p",[s._v("D")]),s._v(" "),t("h3",{attrs:{id:"密码体制的安全性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#密码体制的安全性"}},[s._v("#")]),s._v(" 密码体制的安全性")]),s._v(" "),t("p",[s._v("信源编码")]),s._v(" "),t("p",[s._v("明文加密得到密文")]),s._v(" "),t("p",[s._v("德国密码被破解")]),s._v(" "),t("p",[s._v("加密机被破解")]),s._v(" "),t("h2",{attrs:{id:"devops"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#devops"}},[s._v("#")]),s._v(" Devops")]),s._v(" "),t("p",[t("img",{attrs:{src:"http://www.jamesbowman.me/post/cdlandscape/ContinuousDeliveryToolLandscape-fullsize.jpeg",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"数字图像处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数字图像处理"}},[s._v("#")]),s._v(" 数字图像处理")]),s._v(" "),t("p",[s._v("m领域")]),s._v(" "),t("p",[s._v("通道")]),s._v(" "),t("p",[s._v("空间滤波")]),s._v(" "),t("p",[s._v("使用二阶微分进行图片锐化")]),s._v(" "),t("p",[s._v("同态滤波")]),s._v(" "),t("p",[s._v("低通")]),s._v(" "),t("p",[s._v("高通")]),s._v(" "),t("p",[s._v("查看频域图")]),s._v(" "),t("p",[s._v("周期干扰")]),s._v(" "),t("h2",{attrs:{id:"任务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#任务"}},[s._v("#")]),s._v(" 任务")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th"),s._v(" "),t("th"),s._v(" "),t("th")])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("数字图像处理")]),s._v(" "),t("td"),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("项目")]),s._v(" "),t("td",[s._v("msyql python")]),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("cv")]),s._v(" "),t("td",[s._v("python")]),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("托福(听力、阅读)、GRE")]),s._v(" "),t("td",[s._v("eng")]),s._v(" "),t("td")])])]),s._v(" "),t("p",[s._v("CS basics")]),s._v(" "),t("p",[s._v("data structures algorithms operating systems database systems C++ coding")]),s._v(" "),t("h2",{attrs:{id:"操作系统"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#操作系统"}},[s._v("#")]),s._v(" 操作系统")]),s._v(" "),t("h3",{attrs:{id:"概率"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概率"}},[s._v("#")]),s._v(" 概率")]),s._v(" "),t("p",[s._v("管理硬件、软件资源")]),s._v(" "),t("p",[s._v("处理器，存储器，IO设备，文件资源")]),s._v(" "),t("h4",{attrs:{id:"_1并发性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1并发性"}},[s._v("#")]),s._v(" 1并发性")]),s._v(" "),t("p",[s._v("并行、并发")]),s._v(" "),t("h4",{attrs:{id:"_2共享性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2共享性"}},[s._v("#")]),s._v(" 2共享性")]),s._v(" "),t("p",[s._v("互斥共享/同时访问")]),s._v(" "),t("h4",{attrs:{id:"_3虚拟性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3虚拟性"}},[s._v("#")]),s._v(" 3虚拟性")]),s._v(" "),t("p",[s._v("时分复用")]),s._v(" "),t("p",[s._v("虚拟处理器")]),s._v(" "),t("p",[s._v("多道程序设计技术")]),s._v(" "),t("p",[s._v("每个程序建立进程")]),s._v(" "),t("p",[s._v("多个进程时分复用")]),s._v(" "),t("p",[s._v("虚拟设备")]),s._v(" "),t("p",[s._v("物理设备虚拟为多个逻辑设备")]),s._v(" "),t("p",[s._v("每个程序占用一个逻辑设备")]),s._v(" "),t("p",[s._v("空分复用")]),s._v(" "),t("p",[s._v("虚拟磁盘")]),s._v(" "),t("p",[s._v("物理磁盘虚拟为逻辑磁盘")]),s._v(" "),t("p",[s._v("虚拟内存")]),s._v(" "),t("h4",{attrs:{id:"_4异步性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4异步性"}},[s._v("#")]),s._v(" 4异步性")]),s._v(" "),t("p",[s._v("进程等待/放弃")]),s._v(" "),t("p",[s._v("进程不知道何时开始，何时停止")]),s._v(" "),t("h3",{attrs:{id:"进程管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进程管理"}},[s._v("#")]),s._v(" 进程管理")]),s._v(" "),t("h4",{attrs:{id:"进程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进程"}},[s._v("#")]),s._v(" 进程")]),s._v(" "),t("p",[s._v("进程控制块PCB")]),s._v(" "),t("p",[s._v("系统资源分配和调度的最小单位")]),s._v(" "),t("h4",{attrs:{id:"线程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#线程"}},[s._v("#")]),s._v(" 线程")]),s._v(" "),t("p",[s._v("运行调度的最小单位")]),s._v(" "),t("p",[s._v("一个进程包含多个线程")]),s._v(" "),t("p",[s._v("实际运行的最小单位")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th"),s._v(" "),t("th",[s._v("进程")]),s._v(" "),t("th",[s._v("线程")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("资源")]),s._v(" "),t("td",[s._v("资源分配的基本单位")]),s._v(" "),t("td",[s._v("不拥有资源")])]),s._v(" "),t("tr",[t("td",[s._v("调度")]),s._v(" "),t("td",[s._v("独立调度的基本单位")]),s._v(" "),t("td",[s._v("最小单位")])]),s._v(" "),t("tr",[t("td",[s._v("系统开销")]),s._v(" "),t("td",[s._v("大")]),s._v(" "),t("td",[s._v("小")])]),s._v(" "),t("tr",[t("td",[s._v("通信")]),s._v(" "),t("td",[s._v("进程IPC")]),s._v(" "),t("td",[s._v("读写同一进程数据通信")])])])]),s._v(" "),t("h3",{attrs:{id:"五状态模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#五状态模型"}},[s._v("#")]),s._v(" 五状态模型")]),s._v(" "),t("p",[s._v("1就绪")]),s._v(" "),t("p",[s._v("就绪队列 多个就绪进程")]),s._v(" "),t("p",[s._v("2执行")]),s._v(" "),t("p",[s._v("3阻塞")]),s._v(" "),t("p",[s._v("阻塞队列")]),s._v(" "),t("h3",{attrs:{id:"进程同步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#进程同步"}},[s._v("#")]),s._v(" 进程同步")]),s._v(" "),t("p",[s._v("进程同步")]),s._v(" "),t("p",[s._v("生产消费者模型")]),s._v(" "),t("p",[s._v("临界资源")]),s._v(" "),t("p",[s._v("哲学家吃饭问题")]),s._v(" "),t("ol",[t("li",[s._v("空闲让进")]),s._v(" "),t("li",[s._v("忙着等待")]),s._v(" "),t("li",[s._v("有限等待")]),s._v(" "),t("li",[s._v("让权等待")])]),s._v(" "),t("p",[s._v("消息队列")]),s._v(" "),t("p",[s._v("共享存储")]),s._v(" "),t("p",[s._v("信号量")]),s._v(" "),t("h4",{attrs:{id:"线程同步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#线程同步"}},[s._v("#")]),s._v(" 线程同步")]),s._v(" "),t("p",[s._v("互斥量")]),s._v(" "),t("p",[s._v("读写锁")]),s._v(" "),t("p",[s._v("自选锁")]),s._v(" "),t("p",[s._v("条件变量")]),s._v(" "),t("h3",{attrs:{id:"作业管理-进程调度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作业管理-进程调度"}},[s._v("#")]),s._v(" 作业管理-进程调度")]),s._v(" "),t("p",[s._v("上下文切换机制")]),s._v(" "),t("p",[s._v("非抢占式的调度")]),s._v(" "),t("h5",{attrs:{id:"算法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#算法"}},[s._v("#")]),s._v(" 算法")]),s._v(" "),t("ul",[t("li",[s._v("先来先服务")]),s._v(" "),t("li",[s._v("短进程优先")]),s._v(" "),t("li",[s._v("高优先权优先")]),s._v(" "),t("li",[s._v("时间片轮转调度")])]),s._v(" "),t("h3",{attrs:{id:"作业管理-死锁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#作业管理-死锁"}},[s._v("#")]),s._v(" 作业管理-死锁")]),s._v(" "),t("h5",{attrs:{id:"产生"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#产生"}},[s._v("#")]),s._v(" 产生")]),s._v(" "),t("p",[s._v("资源竞争")]),s._v(" "),t("p",[s._v("调度顺序不当")]),s._v(" "),t("p",[s._v("不可剥夺条件")]),s._v(" "),t("p",[s._v("环路等待条件")]),s._v(" "),t("h5",{attrs:{id:"处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#处理"}},[s._v("#")]),s._v(" 处理")]),s._v(" "),t("p",[s._v("剥离产生条件")]),s._v(" "),t("p",[s._v("银行家算法")]),s._v(" "),t("h3",{attrs:{id:"内存分配和回收"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存分配和回收"}},[s._v("#")]),s._v(" 内存分配和回收")]),s._v(" "),t("h5",{attrs:{id:"内存分配"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存分配"}},[s._v("#")]),s._v(" 内存分配")]),s._v(" "),t("p",[s._v("动态分区")]),s._v(" "),t("p",[s._v("空闲表、空闲链")]),s._v(" "),t("p",[s._v("算法")]),s._v(" "),t("p",[s._v("首次适应FF->循环适应 空闲表")]),s._v(" "),t("p",[s._v("最佳适应BF：空闲链 从小到大 资源利用率高")]),s._v(" "),t("p",[s._v("快速适应QF：每个空闲链储存一种容量的空闲区")]),s._v(" "),t("h5",{attrs:{id:"内存回收"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内存回收"}},[s._v("#")]),s._v(" 内存回收")]),s._v(" "),t("p",[s._v("改变空闲区的地址或容量/创建新的空闲节点")]),s._v(" "),t("h3",{attrs:{id:"段页式存储管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#段页式存储管理"}},[s._v("#")]),s._v(" 段页式存储管理")]),s._v(" "),t("h4",{attrs:{id:"页式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页式"}},[s._v("#")]),s._v(" 页式")]),s._v(" "),t("p",[s._v("容易产生内存碎片")]),s._v(" "),t("p",[s._v("页表记录映射空间")]),s._v(" "),t("p",[s._v("多级页表")]),s._v(" "),t("p",[s._v("段式")]),s._v(" "),t("h2",{attrs:{id:"python-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python-2"}},[s._v("#")]),s._v(" Python")]),s._v(" "),t("h3",{attrs:{id:"面向对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#面向对象"}},[s._v("#")]),s._v(" 面向对象")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("//")]),s._v("www"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("runoob"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("w3cnote"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("python"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("understanding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dict")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("copy"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("shallow"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("deep"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("使用"),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("dict")]),s._v("类的__eq__方法\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1直接赋值：其实就是对象的引用（别名）。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2浅复制 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("list")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncopy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拷贝父对象，不会拷贝对象的内部的子对象")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3深拷贝(deepcopy)： copy 模块的 deepcopy 方法，完全拷贝了父对象及其子对象。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" copy\nc "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" copy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("deepcopy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h5",{attrs:{id:"内置类属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内置类属性"}},[s._v("#")]),s._v(" 内置类属性")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("__dict__ : 类的属性（包含一个字典，由类的数据属性组成）\n__doc__ :类的文档字符串\n__name__: 类名\n__module__: 类定义所在的模块（类的全名是'__main__.className'，如果类位于一个导入模块mymod中，那么className.__module__ 等于 mymod）\n__bases__ : 类的所有父类构成元素（包含了一个由所有父类组成的元组）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h5",{attrs:{id:"继承"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#继承"}},[s._v("#")]),s._v(" 继承")]),s._v(" "),t("h5",{attrs:{id:"多继承"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多继承"}},[s._v("#")]),s._v(" 多继承")]),s._v(" "),t("p",[s._v("方法重写")]),s._v(" "),t("h3",{attrs:{id:"类的私有属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类的私有属性"}},[s._v("#")]),s._v(" 类的私有属性")]),s._v(" "),t("p",[t("strong",[s._v("__private_attrs")]),s._v("：两个下划线开头，声明该属性为私有，不能在类的外部被使用或直接访问。在类内部的方法中使用时 "),t("strong",[s._v("self.__private_attrs")])]),s._v(" "),t("h3",{attrs:{id:"类的私有方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#类的私有方法"}},[s._v("#")]),s._v(" 类的私有方法")]),s._v(" "),t("p",[t("strong",[s._v("__private_method")]),s._v("：两个下划线开头，声明该方法为私有方法，只能在类的内部调用 ，不能在类的外部调用")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("__init__ : 构造函数，在生成对象时调用\n__del__ : 析构函数，释放对象时使用\n__repr__ : 打印，转换\n__setitem__ : 按照索引赋值\n__getitem__: 按照索引获取值\n__len__: 获得长度\n__cmp__: 比较运算\n__call__: 函数调用\n__add__: 加运算\n__sub__: 减运算\n__mul__: 乘运算\n__truediv__: 除运算\n__mod__: 求余运算\n__pow__: 乘方\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[t("strong",[s._v("静态方法、普通方法、类方法")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://www.runoob.com/wp-content/uploads/2013/12/oopxxx.png",alt:""}})]),s._v(" "),t("p",[s._v("inner class")]),s._v(" "),t("h2",{attrs:{id:"阿里云"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阿里云"}},[s._v("#")]),s._v(" 阿里云")]),s._v(" "),t("p",[s._v("ACK")]),s._v(" "),t("p",[s._v("ECS")]),s._v(" "),t("p",[s._v("ecs.c6.large计算型")]),s._v(" "),t("p",[s._v("ecs.n4共享计算型")]),s._v(" "),t("p",[s._v("ENI弹性网卡")]),s._v(" "),t("h4",{attrs:{id:"ess"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ess"}},[s._v("#")]),s._v(" ESS")]),s._v(" "),t("p",[s._v("规则、配置、活动")]),s._v(" "),t("p",[s._v("定时任务")]),s._v(" "),t("p",[s._v("报警任务")]),s._v(" "),t("p",[s._v("事件通知")]),s._v(" "),t("h6",{attrs:{id:"mns等等"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mns等等"}},[s._v("#")]),s._v(" MNS等等")]),s._v(" "),t("p",[s._v("MNS主题和MNS队列是阿里云消息服务（Message Service）的两种服务模型。消息服务是一种分布式消息服务，能够帮助您在分布式组件之间自由的传递数据、通知消息，构建松耦合系统")]),s._v(" "),t("h1",{attrs:{id:"生命周期挂钩"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生命周期挂钩"}},[s._v("#")]),s._v(" 生命周期挂钩")]),s._v(" "),t("p",[s._v("RDS的连接数、读写压力等数据")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("并发量")]),s._v(" "),t("th",[s._v("CPU")]),s._v(" "),t("th",[s._v("内存")]),s._v(" "),t("th",[s._v("连接数")]),s._v(" "),t("th",[s._v("流量")]),s._v(" "),t("th",[s._v("IOPS")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("400")]),s._v(" "),t("td",[s._v("20")]),s._v(" "),t("td",[s._v("13")]),s._v(" "),t("td",[s._v("80")]),s._v(" "),t("td",[s._v("1.3M")]),s._v(" "),t("td",[s._v("40")])]),s._v(" "),t("tr",[t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td")])])]),s._v(" "),t("p",[s._v("redis的连接数、读写压力等数据")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("并发量")]),s._v(" "),t("th",[s._v("CPU")]),s._v(" "),t("th",[s._v("内存")]),s._v(" "),t("th",[s._v("连接数")]),s._v(" "),t("th"),s._v(" "),t("th")])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("400")]),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td",[s._v("72")]),s._v(" "),t("td"),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td"),s._v(" "),t("td")])])]),s._v(" "),t("p",[s._v("当前配置下可加的服务器数上限")]),s._v(" "),t("h3",{attrs:{id:"云盘-块设备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#云盘-块设备"}},[s._v("#")]),s._v(" 云盘/块设备")]),s._v(" "),t("h4",{attrs:{id:"linux格式化数据盘"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux格式化数据盘"}},[s._v("#")]),s._v(" Linux格式化数据盘")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://www.alibabacloud.com/help/zh/doc-detail/25426.htm?spm=a2c63.p38356.b99.238.60d75eb3tKI9Zl",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.alibabacloud.com/help/zh/doc-detail/25426.htm?spm=a2c63.p38356.b99.238.60d75eb3tKI9Zl"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("fdisk -l\nfdisk -u /dev/vdb # 创建一个单分区数据盘\nmkfs.ext4 /dev/vdb1\ncp /etc/fstab /etc/fstab.bak # 备份etc/fstab文件\necho /dev/vdb1 /mnt ext4 defaults 0 0 >> /etc/fstab\t# 写入新分区信息\nmount /dev/vdb1 /mnt\t# 挂载文件系统\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h2",{attrs:{id:"kubernetes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes"}},[s._v("#")]),s._v(" Kubernetes")]),s._v(" "),t("h5",{attrs:{id:"master"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#master"}},[s._v("#")]),s._v(" Master")]),s._v(" "),t("p",[s._v("kube-apiserver 、 kube-controller-manager和kube-scheduler")]),s._v(" "),t("ul",[t("li",[s._v("api-server:\t资源增删改查的唯一入口")]),s._v(" "),t("li",[s._v("controller-manager:\t资源的自动化控制中心")]),s._v(" "),t("li",[s._v("kube-scheduler:\t负责资源调度的进程")])]),s._v(" "),t("h5",{attrs:{id:"node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[s._v("#")]),s._v(" Node")]),s._v(" "),t("ul",[t("li",[s._v("kubelet:\tPod对应的容器的创建、暂停等任务，与master协作")]),s._v(" "),t("li",[s._v("kube-proxy:\tservice通信和负载均衡")]),s._v(" "),t("li",[s._v("Docker Engine")])]),s._v(" "),t("h5",{attrs:{id:"官网教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#官网教程"}},[s._v("#")]),s._v(" 官网教程")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("gitbook")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://legacy.gitbook.com/book/feisky/kubernetes/details",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://legacy.gitbook.com/book/feisky/kubernetes/details"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"pod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod"}},[s._v("#")]),s._v(" Pod")]),s._v(" "),t("p",[s._v("Pause容器、业务容器")]),s._v(" "),t("h5",{attrs:{id:"replication-controller"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#replication-controller"}},[s._v("#")]),s._v(" Replication Controller")]),s._v(" "),t("h5",{attrs:{id:"etcd与cadvisor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#etcd与cadvisor"}},[s._v("#")]),s._v(" Etcd与Cadvisor")]),s._v(" "),t("p",[s._v("核心组件")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("kubeadm")]),s._v("：用来初始化集群的指令。")]),s._v(" "),t("li",[t("code",[s._v("kubelet")]),s._v("：在集群中的每个节点上用来启动 pod 和容器等。")]),s._v(" "),t("li",[t("code",[s._v("kubectl")]),s._v("：用来与集群通信的命令行工具")])]),s._v(" "),t("p",[s._v("yum安装")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v("EOF "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/yum.repos.d/kubernetes.repo\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("kubernetes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Kubernetes\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("enabled")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("repo_gpgcheck")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y kubelet kubeadm kubectl"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v("EOF "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/sysctl.d/99-kubernetes-cri.conf\nnet.bridge.bridge-nf-call-iptables  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nnet.ipv4.ip_forward                 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nnet.bridge.bridge-nf-call-ip6tables "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nEOF"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsysctl --system"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /etc/systemd/system/kubelet.service.d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /etc/systemd/system/kubelet.service.d/10-proxy-ipvs.conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"# 启用 ipvs 相关内核模块\n[Service]\nExecStartPre=-modprobe ip_vs\nExecStartPre=-modprobe ip_vs_rr\nExecStartPre=-modprobe ip_vs_wrr\nExecStartPre=-modprobe ip_vs_sh"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /etc/systemd/system/kubelet.service.d/10-proxy-ipvs.conf"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsystemctl daemon-reload"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" kubelet.service"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/kubernetes/admin.conf ~/.kube/config"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nkubectl apply -f https://raw.githubusercontent.com/coreos/flannel/v0.11.0/Documentation/kube-flannel.yml"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("h5",{attrs:{id:"确保-iptables-工具不使用-nftables-后端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#确保-iptables-工具不使用-nftables-后端"}},[s._v("#")]),s._v(" 确保 iptables 工具不使用 nftables 后端")]),s._v(" "),t("p",[s._v('detected "cgroupfs" as the Docker cgroup driver. The recommended driver is "systemd". Please follow the guide at https://kubernetes.io/docs/setup/cri/')]),s._v(" "),t("ul",[t("li",[t("code",[s._v("apiserver")]),s._v(" 是整个系统的对外接口，提供RESTful方式供客户端和其他组件调用；")]),s._v(" "),t("li",[t("code",[s._v("scheduler")]),s._v(" 负责对资源进行调度，分配某个pod到某节点上；")]),s._v(" "),t("li",[t("code",[s._v("controller-manager")]),s._v(" 负责管理控制器，包括端点控制器（刷新服务和pod的关联信息）和复制控制器（维护某个pod的复制为配置的数值）")])]),s._v(" "),t("p",[s._v("未部署CNI插件，CoreDNS未正常启动")]),s._v(" "),t("p",[s._v("ubuntu安装")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("apt-get update && apt-get install -y apt-transport-https\ncurl https://mirrors.aliyun.com/kubernetes/apt/doc/apt-key.gpg | apt-key add -\ncat <<EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list\ndeb https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main\nEOF\napt-get update\napt-get install -y kubelet kubeadm kubectl\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cat <<EOF | sudo tee /etc/sysctl.d/99-kubernetes-cri.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.ipv4.ip_forward                 = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nEOF\nsysctl --system\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h5",{attrs:{id:"配置-kubelet"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-kubelet"}},[s._v("#")]),s._v(" 配置 kubelet")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cat <<EOF | sudo tee /etc/systemd/system/kubelet.service.d/10-proxy-ipvs.conf\n# 启用 ipvs 相关内核模块\n[Service]\nExecStartPre=-modprobe ip_vs\nExecStartPre=-modprobe ip_vs_rr\nExecStartPre=-modprobe ip_vs_wrr\nExecStartPre=-modprobe ip_vs_sh\nEOF\nsystemctl daemon-reload\nsystemctl enable kubelet\nsystemctl start kubelet\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h5",{attrs:{id:"kubeadm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubeadm"}},[s._v("#")]),s._v(" kubeadm")]),s._v(" "),t("h5",{attrs:{id:"init-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#init-config"}},[s._v("#")]),s._v(" init config")]),s._v(" "),t("h5",{attrs:{id:"join-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#join-config"}},[s._v("#")]),s._v(" join config")]),s._v(" "),t("h5",{attrs:{id:"kubelet"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubelet"}},[s._v("#")]),s._v(" kubelet")]),s._v(" "),t("p",[s._v("The kubelet is unhealthy due to a misconfiguration of the node in some way (required cgroups disabled)")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("systemctl status kubelet\n\njournalctl -xeu kubelet\n\ndocker ps -a | grep kube | grep -v pause\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("[kubelet-check] The HTTP call equal to 'curl -sSL http://localhost:10248/healthz' failed w                                                                                                ith error: Get http://localhost:10248/healthz: dial tcp 127.0.0.1:10248: connect: connecti                                                                                                on refused.")]),s._v(" "),t("p",[s._v("命令")]),s._v(" "),t("p",[s._v("主机恢复原状 "),t("code",[s._v("kubeadm reset")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubeadm init --image-repository gcr.azk8s.cn/google-containers \\\n      --pod-network-cidr 10.244.0.0/16 \\\n      --v 5 \\\n      --ignore-preflight-errors=all\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("mkdir -p $HOME/.kube\ncp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nchown $(id -u):$(id -g) $HOME/.kube/config\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("加入集群")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubeadm token create –print-join-command\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubeadm join 39.106.149.44:6443 --token q35g87.uzz520w386cm0fv4 \\\n    --discovery-token-unsafe-skip-ca-verification --v=5\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubeadm join 172.16.207.172:6443 --token 8cyrpu.9x1c6thc7nbrr6qb \\\n    --discovery-token-ca-cert-hash sha256:82838b782e3d4a65abe0220823fc64d4d9e285ca0fad28edb47b1191ea4fdde7\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("插件cni网络")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("pods pending")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl describe pods mysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("将node节点从集群中删除")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl drain ubuntu-002 --delete-local-data --force--ignore-daemonsets --kubeconfig ./admin.conf\nkubectl delete node ubuntu-002 --kubeconfig admin.conf\nkubeadm reset  \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h5",{attrs:{id:"master先前无法运行pod"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#master先前无法运行pod"}},[s._v("#")]),s._v(" master先前无法运行pod")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ kubectl taint nodes --all node-role.kubernetes.io/master-\n\n# 恢复默认值\n# $ kubectl taint nodes NODE_NAME node-role.kubernetes.io/master=true:NoSchedule\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl get nodes -o yaml | egrep '\\sname:|cpu:|memory:'\ndocker ps | grep mysql\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h5",{attrs:{id:"阿里云的ip有问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#阿里云的ip有问题"}},[s._v("#")]),s._v(" 阿里云的ip有问题")]),s._v(" "),t("p",[s._v("显示的是内网ip eth0[网卡一]的地址，无法切换为外网ip")]),s._v(" "),t("p",[s._v("设置外网网卡 eth1")]),s._v(" "),t("p",[s._v("failed to get config map")]),s._v(" "),t("p",[s._v("Swagger UI是一款REST API文档在线自动生成和功能测试软件")]),s._v(" "),t("h5",{attrs:{id:"kubeadm-token-create"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubeadm-token-create"}},[s._v("#")]),s._v(" kubeadm token create")]),s._v(" "),t("p",[s._v("Cannot validate kube-proxy config - no validator is available")]),s._v(" "),t("p",[s._v("Cannot validate kubelet config - no validator is available")]),s._v(" "),t("p",[s._v('User "system:bootstrap:5nvmet" cannot list resource "pods" in API group "" at the cluster scope\'')]),s._v(" "),t("p",[s._v('User "system:serviceaccount:default:default" cannot list resource "pods" in API group "" at the cluster scope\'')]),s._v(" "),t("p",[s._v("group:\tbootstrappers:kubeadm:default-node-token")]),s._v(" "),t("p",[s._v("Bootstrap令牌是一个简单的承载令牌，在创建新集群或将新节点加入现有集群时应使用")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://blog.51cto.com/goome/2364702",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.51cto.com/goome/2364702"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://kubernetes.io/docs/reference/access-authn-authz/rbac/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/reference/access-authn-authz/rbac/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("令牌验证")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/"),t("OutboundLink")],1)]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('kubectl describe clusterrolebindings |grep -B 9 User "system:bootstrap:5nvmet"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("令牌作为用户名进行身份验证，"),t("code",[s._v("system:bootstrap:<token id>")]),s._v("并且是组的成员"),t("code",[s._v("system:bootstrappers")]),s._v("。可以在令牌的秘密中")]),s._v(" "),t("h5",{attrs:{id:"对api的访问"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对api的访问"}},[s._v("#")]),s._v(" 对API的访问")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://kubernetes.io/docs/reference/access-authn-authz/controlling-access/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/reference/access-authn-authz/controlling-access/"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("img",{attrs:{src:"https://d33wubrfki0l68.cloudfront.net/673dbafd771491a080c02c6de3fdd41b09623c90/50100/images/docs/admin/access-control-overview.svg",alt:""}})]),s._v(" "),t("h5",{attrs:{id:"认证方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#认证方式"}},[s._v("#")]),s._v(" 认证方式")]),s._v(" "),t("p",[s._v("客户端证书、bearer token、身份验证代理或者 HTTP 基本身份验证")]),s._v(" "),t("h5",{attrs:{id:"服务帐户的-service-account-token"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务帐户的-service-account-token"}},[s._v("#")]),s._v(" 服务帐户的 service account token")]),s._v(" "),t("p",[s._v("如果配置了多个授权模块，Kubernetes将检查每个模块，如果有任何模块授权该请求，则该请求可以继续进行。如果所有模块均拒绝该请求，则该请求将被拒绝（HTTP状态代码403）。")]),s._v(" "),t("p",[s._v("每个有效令牌都由"),t("code",[s._v("kube-system")]),s._v("名称空间中的秘密支持")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl create rolebinding bob-admin-binding --clusterrole=admin --user=bob --namespace=acme\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("当前用户和环境")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl config current-context\nkubectl config view\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("em",[s._v("〜/ .bashrc")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("exec bash\t#重启bash\nkubectl completion bash >/etc/bash_completion.d/kubectl\necho 'alias k=kubectl' >>~/.bashrc\necho 'complete -F __start_kubectl k' >>~/.bashrc\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h5",{attrs:{id:"使用rbac授权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用rbac授权"}},[s._v("#")]),s._v(" 使用RBAC授权")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://kubernetes.io/docs/reference/access-authn-authz/rbac/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/reference/access-authn-authz/rbac/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("Role（角色）是一系列权限的集合，例如一个角色可以包含读取 Pod 的权限和列出 Pod 的权限。Role 只能用来给某个特定 namespace 中的资源作鉴权，对多 namespace 和集群级的资源或者是非资源类的 API（如 "),t("code",[s._v("/healthz")]),s._v("）使用 ClusterRole")]),s._v(" "),t("p",[s._v("RoleBinding 把角色（Role 或 ClusterRole）的权限映射到用户或者用户组，从而让这些用户继承角色在 namespace 中的权限。ClusterRoleBinding 让用户继承 ClusterRole 在整个集群中的权限")]),s._v(" "),t("h5",{attrs:{id:"serviceaccount"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#serviceaccount"}},[s._v("#")]),s._v(" ServiceAccount")]),s._v(" "),t("h5",{attrs:{id:"group"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#group"}},[s._v("#")]),s._v(" Group")]),s._v(" "),t("h5",{attrs:{id:"user"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user"}},[s._v("#")]),s._v(" User")]),s._v(" "),t("h5",{attrs:{id:"在kubernetes-pod中使用服务帐户访问api服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在kubernetes-pod中使用服务帐户访问api服务器"}},[s._v("#")]),s._v(" 在Kubernetes Pod中使用服务帐户访问API服务器")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://tonybai.com/2017/03/03/access-api-server-from-a-pod-through-serviceaccount/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tonybai.com/2017/03/03/access-api-server-from-a-pod-through-serviceaccount/"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"kubernetes部署的安全配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes部署的安全配置"}},[s._v("#")]),s._v(" Kubernetes部署的安全配置")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://tonybai.com/2016/11/25/the-security-settings-for-kubernetes-cluster/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tonybai.com/2016/11/25/the-security-settings-for-kubernetes-cluster/"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"permissive-rbac"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#permissive-rbac"}},[s._v("#")]),s._v(" Permissive RBAC")]),s._v(" "),t("p",[s._v("授权给所有的 Service Accounts 管理员权限")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl create clusterrolebinding deployment-binding \\\n  --clusterrole=system:controller:deployment-controller  \\\n  --group=system:serviceaccounts\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("新的认证方式 kubeconfig")]),s._v(" "),t("p",[s._v("ca证书")]),s._v(" "),t("p",[s._v("密码认证")]),s._v(" "),t("p",[s._v("官网的认证方式 多尝试")]),s._v(" "),t("h5",{attrs:{id:"使用-kubectl-代理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-kubectl-代理"}},[s._v("#")]),s._v(" 使用 kubectl 代理")]),s._v(" "),t("h5",{attrs:{id:"从-pod-中访问-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从-pod-中访问-api"}},[s._v("#")]),s._v(" 从 Pod 中访问 API")]),s._v(" "),t("p",[s._v("client-go")]),s._v(" "),t("p",[s._v("集群外/内身份验证")]),s._v(" "),t("p",[s._v("访问集群 "),t("a",{attrs:{href:"https://kubernetes.io/docs/tasks/access-application-cluster/access-cluster/#",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/tasks/access-application-cluster/access-cluster/#"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"headerless-service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#headerless-service"}},[s._v("#")]),s._v(" headerless service")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://dev.to/kaoskater08/building-a-headless-service-in-kubernetes-3bk8",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dev.to/kaoskater08/building-a-headless-service-in-kubernetes-3bk8"),t("OutboundLink")],1)]),s._v(" "),t("h5",{attrs:{id:"minikube"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minikube"}},[s._v("#")]),s._v(" minikube")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://kubernetes.io/docs/tasks/tools/install-minikube/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/tasks/tools/install-minikube/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("在macOS，Linux和Windows上实现了本地Kubernetes集群。minikube的"),t("a",{attrs:{href:"https://minikube.sigs.k8s.io/docs/concepts/principles/",target:"_blank",rel:"noopener noreferrer"}},[s._v("主要目标"),t("OutboundLink")],1),s._v("是成为本地Kubernetes应用程序开发的最佳工具，并支持所有合适的Kubernetes功能")]),s._v(" "),t("p",[s._v("Katacoda提供了免费的浏览器内部Kubernetes环境")]),s._v(" "),t("h3",{attrs:{id:"使用kubeadm进行证书管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用kubeadm进行证书管理"}},[s._v("#")]),s._v(" 使用kubeadm进行证书管理")]),s._v(" "),t("h3",{attrs:{id:"kubectl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubectl"}},[s._v("#")]),s._v(" kubectl")]),s._v(" "),t("p",[s._v("查看更新发布历史")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("kubectl rollout history deploy gunicorn-deployment-basic\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"pod-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-2"}},[s._v("#")]),s._v(" Pod")]),s._v(" "),t("p",[s._v("resources")]),s._v(" "),t("h3",{attrs:{id:"service"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[s._v("#")]),s._v(" Service")]),s._v(" "),t("p",[s._v("type")]),s._v(" "),t("p",[s._v("ClusterIP")]),s._v(" "),t("p",[s._v("虚拟IP，集群内部Pod访问")]),s._v(" "),t("p",[s._v("NodePort")]),s._v(" "),t("p",[s._v("宿主机端口")]),s._v(" "),t("p",[s._v("LoadBalancer")]),s._v(" "),t("p",[s._v("负载均衡")]),s._v(" "),t("p",[s._v("Ingress7层路由")]),s._v(" "),t("h5",{attrs:{id:"pv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pv"}},[s._v("#")]),s._v(" PV")]),s._v(" "),t("p",[s._v("持久存储")]),s._v(" "),t("p",[s._v("PersistentVolume")]),s._v(" "),t("p",[s._v("PersistentVolumeClaim")]),s._v(" "),t("h5",{attrs:{id:"定时伸缩组件kubernetes-cronhpa-controller"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定时伸缩组件kubernetes-cronhpa-controller"}},[s._v("#")]),s._v(" 定时伸缩组件kubernetes-cronhpa-controller")]),s._v(" "),t("h2",{attrs:{id:"docker-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-3"}},[s._v("#")]),s._v(" Docker")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("docker run --name my-nginx -v /root/nginx/conf.d:/etc/nginx/conf.d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9000")]),s._v(":80 -d nginx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"bash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bash"}},[s._v("#")]),s._v(" bash")]),s._v(" "),t("p",[s._v("当前工作目录")]),s._v(" "),t("p",[s._v("脚本所在目录")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('echo \'$0: \'$0\necho "pwd: "`pwd`\necho "============================="\necho "scriptPath1: "$(cd `dirname $0`; pwd)\necho "scriptPath2: "$(pwd)\necho "scriptPath3: "$(dirname $(readlink -f $0))\necho "scriptPath4: "$(cd $(dirname ${BASH_SOURCE:-$0});pwd)\necho -n "scriptPath5: " && dirname $(readlink -f ${BASH_SOURCE[0]})\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h2",{attrs:{id:"matlab"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#matlab"}},[s._v("#")]),s._v(" matlab")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("& |\nordfilt2()%二维统计顺序滤波函数\nmedfilt2()%中值滤波\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"alembic"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alembic"}},[s._v("#")]),s._v(" Alembic")]),s._v(" "),t("h2",{attrs:{id:"latex"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#latex"}},[s._v("#")]),s._v(" latex")]),s._v(" "),t("p",[s._v("TeX 发行，也叫 TeX 发行版、TeX 系统或者 TeX 套装，指的是包括 TeX 系统的各种可执行程序，以及他们执行时需要的一些辅助程序和宏包文档的集合")]),s._v(" "),t("p",[s._v("TeXworks：TeX Live 自带的编辑器")]),s._v(" "),t("p",[s._v("若干排版工具（pdfTeX, pdfLaTeX, XeTeX, XeLaTeX 等）")]),s._v(" "),t("p",[t("code",[s._v("CTex")]),s._v("宏集：包含若干文档类（"),t("code",[s._v(".cls")]),s._v(" 文件）和宏包（"),t("code",[s._v(".sty")]),s._v(" 文件），"),t("code",[s._v("CTeX")]),s._v(" 套装是一个"),t("strong",[s._v("过时的")]),s._v(" TeX 系统")]),s._v(" "),t("p",[s._v("pdfLaTeX默认")]),s._v(" "),t("h3",{attrs:{id:"段落"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#段落"}},[s._v("#")]),s._v(" 段落")]),s._v(" "),t("h3",{attrs:{id:"公式-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#公式-2"}},[s._v("#")]),s._v(" 公式")]),s._v(" "),t("h3",{attrs:{id:"图片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图片"}},[s._v("#")]),s._v(" 图片")]),s._v(" "),t("h5",{attrs:{id:"终极参考文献引用管理bibtex"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#终极参考文献引用管理bibtex"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.jianshu.com/p/5aa8ea1578e6",target:"_blank",rel:"noopener noreferrer"}},[s._v("终极参考文献引用管理BibTeX"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("在a.tex其他的位置，需要有\\cite{文献a}、\\citet{文献a}、\\citep{文献a} 等的引用格式，否则参考文献不会显示")]),s._v(" "),t("p",[s._v("编译a.tex的时候，LaTex—BibTeX—LaTex—LaTex，需要编译四次")]),s._v(" "),t("h5",{attrs:{id:"latex技巧829-使用bibtex生成参考文献列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#latex技巧829-使用bibtex生成参考文献列表"}},[s._v("#")]),s._v(" "),t("a",{attrs:{href:"https://www.latexstudio.net/archives/5594",target:"_blank",rel:"noopener noreferrer"}},[s._v("LaTeX技巧829:使用BibTeX生成参考文献列表"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("code",[s._v("bst")]),s._v(" 是 (B)ibliography (ST)yle 的缩写。顾名思义，和 "),t("code",[s._v("sty")]),s._v(" 文件是 style 的缩写一样，"),t("code",[s._v("bst")]),s._v(" 文件控制着参考文献列表的格式")]),s._v(" "),t("h2",{attrs:{id:"python-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#python-3"}},[s._v("#")]),s._v(" python")]),s._v(" "),t("h3",{attrs:{id:"logging"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#logging"}},[s._v("#")]),s._v(" logging")]),s._v(" "),t("p",[s._v("server "),t("a",{attrs:{href:"https://github.com/keejo125/flask_logging_demo",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/keejo125/flask_logging_demo"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("logging "),t("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/93712428",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://zhuanlan.zhihu.com/p/93712428"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("a",{attrs:{href:"https://juejin.im/post/5bc2bd3a5188255c94465d31",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.im/post/5bc2bd3a5188255c94465d31"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("官网 "),t("a",{attrs:{href:"https://dormousehole.readthedocs.io/en/latest/logging.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://dormousehole.readthedocs.io/en/latest/logging.html"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("如果没有自己配置日志， Flask 会自动添加一个 "),t("a",{attrs:{href:"https://docs.python.org/3/library/logging.handlers.html#logging.StreamHandler",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("StreamHandler")]),t("OutboundLink")],1),s._v(" 到 "),t("a",{attrs:{href:"https://dormousehole.readthedocs.io/en/latest/api.html#flask.Flask.logger",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("app.logger")]),t("OutboundLink")],1),s._v(",在请求过程中，它会写到由 WSGI 服务器指定的，保存在 "),t("code",[s._v("environ['wsgi.errors']")]),s._v(" 变量中的日志流（通常是 "),t("a",{attrs:{href:"https://docs.python.org/3/library/sys.html#sys.stderr",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("sys.stderr")]),t("OutboundLink")],1),s._v(" ） 中。在请求之外，则会记录到 "),t("a",{attrs:{href:"https://docs.python.org/3/library/sys.html#sys.stderr",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("sys.stderr")]),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("看到更多请求信息，如 IP 地址，有助调试某些错误。可以继承 "),t("a",{attrs:{href:"https://docs.python.org/3/library/logging.html#logging.Formatter",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("logging.Formatter")]),t("OutboundLink")],1),s._v(" 来注入自己的内容，以显示在日志消息中。然后，可 以修改 Flask 缺省的日志记录器、上文所述的电子邮件日志记录器或者其他日志记 录器的格式器。")]),s._v(" "),t("p",[t("strong",[s._v("dictConfig")]),s._v("：从字典中获取日志记录配置")]),s._v(" "),t("p",[s._v("flask "),t("a",{attrs:{href:"https://www.flyml.net/2018/12/12/flask-logging-usage-demo/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.flyml.net/2018/12/12/flask-logging-usage-demo/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("gunicorn + flask")]),s._v(" "),t("p",[t("code",[s._v("stdout")]),s._v("会收集的是print到console的信息")]),s._v(" "),t("p",[s._v("Gunicorn的配置文件中只有"),t("code",[s._v("access.file")]),s._v(" "),t("code",[s._v("stderr.file")]),s._v("以及"),t("code",[s._v("sysout.file")]),s._v("三种输出文件地址的配置。其中"),t("code",[s._v("access.file")]),s._v("会显示调用API的程序的网络地址，"),t("code",[s._v("sysout.file")]),s._v("具体功能不详，但是貌似是非常底层的东西，其余的log信息都会进入"),t("code",[s._v("stderr.file")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("heapq`将使用运算符的任何东西，你投入它。`<=\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"tuple比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tuple比较"}},[s._v("#")]),s._v(" tuple比较")]),s._v(" "),t("p",[s._v("元组按位置进行比较：第一元组的第一项与第二元组的第一项进行比较;如果它们不相等（即第一个大于或小于第二个），则这是比较的结果，否则将考虑第二个项目，然后考虑第三个项，等等")]),s._v(" "),t("p",[s._v("您可以将对象的 ID 添加到元组，以便您的元组变为：")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("priority"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" obj"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("因为对象 ID 是唯一的。（请注意：如果添加具有相同优先级的同一对象的两个实例，则再次遇到此问题）。")]),s._v(" "),t("h4",{attrs:{id:"import"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import"}},[s._v("#")]),s._v(" import")]),s._v(" "),t("h5",{attrs:{id:"module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[s._v("#")]),s._v(" module")]),s._v(" "),t("p",[s._v("一个.py文件就是一个module，即“模块”，"),t("strong",[s._v("模块的名称是文件名去掉末尾的'.py'")])]),s._v(" "),t("p",[s._v("有的模块出于运行效率考虑，是被编译进Python解释器的，并不以"),t("code",[s._v(".py")]),s._v("文件形式存在，比如常用的"),t("code",[s._v("builtins")]),s._v("、"),t("code",[s._v("sys")]),s._v("等。内置的"),t("code",[s._v("len()")]),s._v("函数、加减乘除运算等就在"),t("code",[s._v("builtins")]),s._v("模块中，使用时甚至不需要我们import，Python解释器在启动时便已import好了，而"),t("code",[s._v("sys")]),s._v("模块需要先import才能使用")]),s._v(" "),t("h5",{attrs:{id:"package"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#package"}},[s._v("#")]),s._v(" package")]),s._v(" "),t("p",[s._v("包是一个特殊的目录，其下"),t("strong",[s._v("必须")]),s._v("含有名为"),t("code",[s._v("__init__.py")]),s._v("的文件")]),s._v(" "),t("h5",{attrs:{id:"relative-import和absolute-import"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#relative-import和absolute-import"}},[s._v("#")]),s._v(" relative import和absolute import")]),s._v(" "),t("p",[s._v("相对导入方式可以解决导入当前目录、上级目录、上上级目录下模块的需求，但"),t("strong",[s._v("使用相对导入的文件不能直接以脚本方式运行，只能以模块方式（-m选项）运行，并且当前路径要处于import语句定位的路径或更高层路径")])]),s._v(" "),t("p",[t("strong",[s._v("绝对导入的方式无法导入上级目录的模块")])]),s._v(" "),t("p",[s._v('尽可能地减少在import语句使用 "'),t("em",[s._v('" 符号，实在无法避免时，为限制 "')]),s._v('" 符号带来的命名冲突，在'),t("code",[s._v("construct/__init__.py")]),s._v("、"),t("code",[s._v("decoration/__init__.py")]),s._v("文件中，定义"),t("code",[s._v("__all__")]),s._v("变量，明确限定允许被导出的所有符号")]),s._v(" "),t("h4",{attrs:{id:"os"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#os"}},[s._v("#")]),s._v(" os")]),s._v(" "),t("p",[t("code",[s._v("os.path.abspath(__file__)")])]),s._v(" "),t("h2",{attrs:{id:"neo4j"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#neo4j"}},[s._v("#")]),s._v(" neo4j")]),s._v(" "),t("p",[s._v("社会型数据，在处理大数据方面的优势,近年来图数据库的几个典型应用场景：知识图谱、金融风控、社交关系等场景")]),s._v(" "),t("p",[s._v("优势")]),s._v(" "),t("p",[s._v("可以很高效的插入大量数据")]),s._v(" "),t("p",[s._v("图数据库基本能胜任亿级以上的数据")]),s._v(" "),t("p",[s._v("高效的查询关联数据")]),s._v(" "),t("p",[s._v("传统关系型数据库不擅长做关联查询，特别是多层关联（比如查我的好友的好友有哪些人），因为一般来说都需要做表连接，表连接是一个很昂贵的操作，涉及到大量的IO操作及内存消耗。图数据库对关联查询一般都进行针对性的优化，比如存储模型上、数据结构、查询算法等，防止局部数据的查询引发全部数据的读取")]),s._v(" "),t("p",[s._v("Cypher等图数据库语言，图查询语言大大方便了关联分析业务的持续开发，传统方案在需求变更时往往要修改数据存储模型、修改复杂的查询脚本，图数据库已经把业务表达抽象好了 "),t("a",{attrs:{href:"https://neo4j.com/developer/cypher-basics-i/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://neo4j.com/developer/cypher-basics-i/"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("教程 "),t("a",{attrs:{href:"https://neo4j.com/developer/get-started/?_ga=2.244301506.635077318.1589298327-5599999.1589298327",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://neo4j.com/developer/get-started/?_ga=2.244301506.635077318.1589298327-5599999.1589298327"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("sandbox "),t("a",{attrs:{href:"https://sandbox.neo4j.com/?ref=hcard",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://sandbox.neo4j.com/?ref=hcard"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v('浏览器对url编码：适用于统一资源标识符(URI)的编码，也用于为"application/x-www-form-urlencoded" MIME准备数据， 因为它用于通过HTTP的请求操作(request)提交HTML表单数据')]),s._v(" "),t("p",[s._v("RFC1738")]),s._v(" "),t("p",[s._v("它将编码为"),t("code",[s._v("%20")]),s._v("而不是"),t("code",[s._v("+")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("unquote_plus解码\nquote编码\n旧版的编码urlencode\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("oss跨域")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://oscimg.oschina.net/oscnet/1573034604674-3e1c642d-e761-4e90-a0c9-d9b0c03c207f.png",alt:"image.png"}})]),s._v(" "),t("p",[s._v("页面直接img显示的图片，而img并不会触发跨域，所以当页面打开后img会请求到CDN的图片并缓存到本地，而缓存不带CORS配置，然后ajax请求直接访问本地图片，触发了同源限制，导致跨域报错")]),s._v(" "),t("h2",{attrs:{id:"算法-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#算法-2"}},[s._v("#")]),s._v(" 算法")]),s._v(" "),t("h2",{attrs:{id:"apt"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apt"}},[s._v("#")]),s._v(" apt")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('sed -i "s@http://deb.debian.org@http://mirrors.aliyun.com@g" /etc/apt/sources.list\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"flask-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flask-2"}},[s._v("#")]),s._v(" flask")]),s._v(" "),t("p",[s._v("端点的规范URL 带有斜杠。它类似于文件系统中的文件夹。如果您访问的URL不带斜杠，Flask会将您重定向到带斜杠的规范URL")]),s._v(" "),t("p",[s._v("不带斜杠。它类似于文件的路径名。使用斜杠访问URL会产生404“未找到”错误。这有助于使这些资源的URL保持唯一，从而有助于搜索引擎避免对同一页面进行两次索引")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://flask.palletsprojects.com/en/1.1.x/api/#flask.Flask.test_request_context",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("test_request_context()")]),t("OutboundLink")],1),s._v(" 上下文管理器，告诉Flask即使在使用Python shell的情况下也表现得好像在处理请求一样")]),s._v(" "),t("p",[s._v("Flask如何仍然保持线程安全")]),s._v(" "),t("h5",{attrs:{id:"request"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[s._v("#")]),s._v(" request")]),s._v(" "),t("p",[s._v("method")]),s._v(" "),t("p",[s._v("form")]),s._v(" "),t("p",[s._v("args")]),s._v(" "),t("p",[s._v("cookies")]),s._v(" "),t("h5",{attrs:{id:"covid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#covid"}},[s._v("#")]),s._v(" covid")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("set FLASK_APP=flaskr\nflask run\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("sqlalchemy")]),s._v(" "),t("p",[s._v("mongodb")]),s._v(" "),t("p",[s._v("flask-admin")]),s._v(" "),t("p",[s._v("中文支持")]),s._v(" "),t("p",[s._v("filter")]),s._v(" "),t("p",[s._v("project layout")]),s._v(" "),t("h5",{attrs:{id:"路由优先级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由优先级"}},[s._v("#")]),s._v(" 路由优先级")]),s._v(" "),t("p",[s._v("https://www.jianshu.com/p/6368b281d866")]),s._v(" "),t("p",[s._v("为了获得更高的性能，让路径匹配得更快，优先匹配路由中变量较少的，接着根据权重。另外，静态路径权重 "),t("code",[s._v(">")]),s._v(" 动态路径权重，同样地会先匹配更短的路径；转换器 "),t("code",[s._v("converter")]),s._v(" 也会影响权重，权重从高到低为：数字转换器 "),t("code",[s._v("->")]),s._v(" 基于字符串的转换器 "),t("code",[s._v("->")]),s._v(" 其他转换")]),s._v(" "),t("p",[s._v("flask路由控制 https://jin-yang.github.io/post/flask-route.html")]),s._v(" "),t("h2",{attrs:{id:"mongo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mongo"}},[s._v("#")]),s._v(" mongo")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("admin")]),s._v('： 从权限的角度来看，这是"root"数据库。要是将一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。')]),s._v(" "),t("li",[t("strong",[s._v("local:")]),s._v(" 这个数据永远不会被复制，可以用来存储限于本地单台服务器的任意集合")]),s._v(" "),t("li",[t("strong",[s._v("config")]),s._v(": 当Mongo用于分片设置时，config数据库在内部使用，用于保存分片的相关信息。")])]),s._v(" "),t("h2",{attrs:{id:"apscheduler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apscheduler"}},[s._v("#")]),s._v(" apscheduler")]),s._v(" "),t("p",[s._v("触发器（triggers）：触发器包含调度逻辑，描述一个任务何时被触发，按日期或按时间间隔或按 cronjob 表达式三种方式触发。每个作业都有它自己的触发器，除了初始配置之外，触发器是完全无状态的。")]),s._v(" "),t("p",[s._v("作业存储器（job stores）：作业存储器指定了作业被存放的位置，默认情况下作业保存在内存，也可将作业保存在各种数据库中，当作业被存放在数据库中时，它会被序列化，当被重新加载时会反序列化。作业存储器充当保存、加载、更新和查找作业的中间商。在调度器之间不能共享作业存储。")]),s._v(" "),t("p",[s._v("执行器（executors）：执行器是将指定的作业（调用函数）提交到线程池或进程池中运行，当任务完成时，执行器通知调度器触发相应的事件。")]),s._v(" "),t("p",[s._v("调度器（schedulers）：任务调度器，属于控制角色，通过它配置作业存储器、执行器和触发器，添加、修改和删除任务。调度器协调触发器、作业存储器、执行器的运行，通常只有一个调度程序运行在应用程序中，开发人员通常不需要直接处理作业存储器、执行器或触发器，配置作业存储器和执行器是通过调度器来完成")]),s._v(" "),t("h4",{attrs:{id:"数字图像处理-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数字图像处理-2"}},[s._v("#")]),s._v(" 数字图像处理")]),s._v(" "),t("p",[s._v("客观题30题 选择10 填空10 判断10 简答5题")]),s._v(" "),t("p",[s._v("客观题 70分 简答题 50分 卷面满分120")]),s._v(" "),t("h4",{attrs:{id:"通信原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通信原理"}},[s._v("#")]),s._v(" 通信原理")]),s._v(" "),t("p",[s._v("NIO")]),s._v(" "),t("p",[s._v("epoll")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("socket=>3\nbind(3, 8090)\nlisten(3)\nepoll_create() = 7\nepoll_ctl(7,ADD,3,accept)\nepoll_wait(3) O(1)阻塞的\naccept(3)=8\nepoll_ctl(7,ADD,8,read)\nepoll_wait(3,8)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"提炼项目工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提炼项目工作"}},[s._v("#")]),s._v(" 提炼项目工作")]),s._v(" "),t("p",[s._v("为什么要这么做？")]),s._v(" "),t("p",[s._v("其他人怎么做？")]),s._v(" "),t("p",[s._v("效果如何？")]),s._v(" "),t("p",[s._v("网络架构、项目管理、基础知识")]),s._v(" "),t("p",[s._v("Big Memory = Optane + Memory Machine")]),s._v(" "),t("p",[s._v("分布式")]),s._v(" "),t("p",[s._v("MemVerge")]),s._v(" "),t("p",[s._v("Optane")]),s._v(" "),t("h2",{attrs:{id:"k8s"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#k8s"}},[s._v("#")]),s._v(" k8s")]),s._v(" "),t("h5",{attrs:{id:"基础知识学习"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础知识学习"}},[s._v("#")]),s._v(" 基础知识学习")]),s._v(" "),t("p",[s._v("微信读书搜索kubernetes")]),s._v(" "),t("h5",{attrs:{id:"简单实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简单实践"}},[s._v("#")]),s._v(" 简单实践")]),s._v(" "),t("p",[s._v("https://harishnarayanan.org/writing/kubernetes-django/")]),s._v(" "),t("p",[s._v("SessionAffinity：基于客户端IP地址进行会话保持的模式，即第1次将某个客户端发起的请求转发到后端的某个Pod上，之后从相同的客户端发起的请求都将被转发到后端相同的Pod上。")]),s._v(" "),t("h5",{attrs:{id:"并发不够"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#并发不够"}},[s._v("#")]),s._v(" 并发不够")]),s._v(" "),t("p",[s._v("资源隔离不良")]),s._v(" "),t("p",[s._v("gunicorn抢占了资源")]),s._v(" "),t("p",[s._v("gunicorn停掉多线程")]),s._v(" "),t("p",[s._v("去掉Nginx")]),s._v(" "),t("p",[s._v("gunicorn配置证书")]),s._v(" "),t("p",[s._v("load balance")]),s._v(" "),t("p",[s._v("如何debug")]),s._v(" "),t("h5",{attrs:{id:"q-k8s-pod-一直pending"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q-k8s-pod-一直pending"}},[s._v("#")]),s._v(" Q:k8s pod 一直pending")]),s._v(" "),t("p",[s._v("Debugging Pods"),t("a",{attrs:{href:"https://kubernetes.io/zh/docs/tasks/debug-application-cluster/debug-application/#debugging-pods",target:"_blank",rel:"noopener noreferrer"}},[t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("调试pod的第一步是看一下这个pod的信息，用如下命令查看一下pod的当前状态和最近的事件：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("$ kubectl describe pods "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${POD_NAME}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"q-1-node-s-had-taints-that-the-pod-didn-t-tolerate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#q-1-node-s-had-taints-that-the-pod-didn-t-tolerate"}},[s._v("#")]),s._v(" Q:1 node(s) had taints that the pod didn't tolerate.")]),s._v(" "),t("p",[s._v("出于安全考虑Pod不会被调度到Master Node上，也就是说Master Node不参与工作负载")]),s._v(" "),t("p",[s._v("允许master节点部署pod")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ kubectl taint nodes --all node-role.kubernetes.io/master-\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"论文"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#论文"}},[s._v("#")]),s._v(" 论文")]),s._v(" "),t("h4",{attrs:{id:"分布式图数据库geabase"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分布式图数据库geabase"}},[s._v("#")]),s._v(" 分布式图数据库GeaBase")]),s._v(" "),t("p",[s._v("图属性模型")]),s._v(" "),t("p",[s._v("键值对结构")]),s._v(" "),t("p",[s._v("新的技术")]),s._v(" "),t("p",[s._v("*"),t("strong",[s._v("计算靠近存储*")]),s._v("、**"),t("em",[s._v("双队列更新流水线*"),t("strong",[s._v("和")]),t("em",[s._v("用户粘性*")])])]),s._v(" "),t("p",[s._v("***Gremlin*"),t("strong",[s._v("或")]),t("em",[s._v("SparQL*"),t("strong",[s._v("这样的")]),t("em",[s._v("标准图查询语言*")])])]),s._v(" "),t("p",[s._v("GeaBase由四大模块构成：高可用（HA）模块、查询引擎、更新模块和图存储")]),s._v(" "),t("p",[s._v("每一个GeoBase集群都保存了一份图数据的完整拷贝，因而也被命名为*"),t("strong",[s._v("GeaBase副本*")]),s._v("（GeaBase Replica）")]),s._v(" "),t("p",[t("strong",[s._v("A. 图存储")])]),s._v(" "),t("p",[s._v("1）数据模型")]),s._v(" "),t("p",[s._v("OLP 描述对象链接属性")]),s._v(" "),t("p",[s._v("图模式 Graph Schema")]),s._v(" "),t("p",[s._v("节点类型列表")]),s._v(" "),t("p",[s._v("边类型列表")]),s._v(" "),t("p",[s._v("2）存储模型")]),s._v(" "),t("p",[s._v("节点")]),s._v(" "),t("p",[s._v("单键值对")]),s._v(" "),t("p",[s._v("有向边")]),s._v(" "),t("p",[s._v("双键值对")]),s._v(" "),t("p",[s._v("给定源节点ID，出边则可视为*"),t("strong",[s._v("正向索引*")]),s._v("（Forward Index），用于搜索到达目标节点的轨迹（这种情况可称之为*"),t("strong",[s._v("出边导航*")]),s._v("，*"),t("strong",[s._v("out-edge-navigation*")]),s._v("）。当给定目标节点，入边则可视为*"),t("strong",[s._v("反向索引*")]),s._v("（Reverse Index），用于搜索到达源节点的轨迹（这种情况可称之为*"),t("strong",[s._v("入边导航*")]),s._v("，*"),t("strong",[s._v("in-edge-navigation*")]),s._v("）。")]),s._v(" "),t("p",[s._v("仅在一种边上存储属性")]),s._v(" "),t("p",[s._v("3）分片策略")]),s._v(" "),t("p",[s._v("基于哈希")]),s._v(" "),t("p",[s._v("根据键的前8个字节进行分区")]),s._v(" "),t("p",[s._v("源节点和出边出现在相同分区")]),s._v(" "),t("h5",{attrs:{id:"b-ha高可用模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-ha高可用模块"}},[s._v("#")]),s._v(" B.HA高可用模块")]),s._v(" "),t("h5",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")]),s._v(" "),t("img",{attrs:{src:"https://pic1.zhimg.com/80/v2-3fd84a3fb8cc4f4ae56bc2536948c098_720w.jpg",alt:"img"}})]),s._v(" "),t("h5",{attrs:{id:"c-更新模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#c-更新模块"}},[s._v("#")]),s._v(" C.更新模块")]),s._v(" "),t("p",[s._v("1）实时更新")]),s._v(" "),t("p",[s._v("同步模式")]),s._v(" "),t("p",[s._v("更新事件转换为查询字符串")]),s._v(" "),t("p",[s._v("异步模式")]),s._v(" "),t("p",[s._v("更新事件转换为消息放入队列中")]),s._v(" "),t("p",[s._v("*"),t("strong",[s._v("一个GeaBase副本被选为更新中心*")]),s._v("，它负责*"),t("strong",[s._v("集中消费*")]),s._v(" 多个消息队列（存储用户侧生产的消息）中的消息，我们把这个消费多个消息队列的更新中心称为*"),t("strong",[s._v("Master队列*")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://pic4.zhimg.com/80/v2-435dde6b1ee4606f7ea0958ea25fd8fb_720w.jpg",alt:"img"}})]),s._v(" "),t("p",[s._v("2）批量更新")]),s._v(" "),t("p",[s._v("从数据仓库中导入离线计算的结果")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://pic2.zhimg.com/80/v2-4033f2f679e324d9a8f53039107d5885_720w.jpg",alt:"img"}})]),s._v(" "),t("h5",{attrs:{id:"d-查询引擎"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#d-查询引擎"}},[s._v("#")]),s._v(" D.查询引擎")]),s._v(" "),t("p",[s._v("1）引擎结构")]),s._v(" "),t("p",[s._v("*"),t("strong",[s._v("计算靠近存储*")])]),s._v(" "),t("p",[s._v("当geabase服务器收到查询请求时，它检查查询语句的语法正确性，然后生成与查询语义对应的遍历和计算计划。当查询需要非本地数据时，查询引擎生成一个子查询，该子查询检索远程数据，并通过内部请求将子查询发送到目标节点所在的服务器")]),s._v(" "),t("p",[s._v("2）查询语言")]),s._v(" "),t("ol",[t("li",[s._v("图CRUD操作")]),s._v(" "),t("li",[s._v("遍历与计算")]),s._v(" "),t("li",[s._v("分析")]),s._v(" "),t("li",[s._v("内建（build-in）函数：自定义UDF")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("( operator [:ATTR=value ])*\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("[:ATTR=value]可以是子查询")]),s._v(" "),t("p",[s._v("3）Nav算子")]),s._v(" "),t("p",[s._v("类似SQL语言中的SELECT语句，Nav(igation) 是GeaBase查询语言中是最常用的算子。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("(Nav [:START= | :DATA=] \n     [:EDGE_TYPE= | :REG_EDGE_TYPE=]\n     [:DEPTH=][:FILTER=][:RETURN=]\n     [...]\n)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"ns-3-web-based-user-interface-power-grid-communications-planning-and-modeling-tool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ns-3-web-based-user-interface-power-grid-communications-planning-and-modeling-tool"}},[s._v("#")]),s._v(" ns-3 Web-Based User Interface - Power Grid Communications Planning and Modeling Tool")]),s._v(" "),t("p",[s._v("ns- -3 3 基于 b Web 的用户界面- - 电网通信规划和建模\n工具")]),s._v(" "),t("h4",{attrs:{id:"_1-介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-介绍"}},[s._v("#")]),s._v(" 1.介绍")]),s._v(" "),t("p",[s._v("PGCPMT 旨在为 ns-3 提供图形用户界面（GUI）前端，并支持\n对智能电网用例的分析")]),s._v(" "),t("h4",{attrs:{id:"_2-相关工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-相关工作"}},[s._v("#")]),s._v(" 2.相关工作")]),s._v(" "),t("h5",{attrs:{id:"a-core"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#a-core"}},[s._v("#")]),s._v(" A.CORE")]),s._v(" "),t("p",[s._v("是控制虚拟机和网络仿真子系统的通用开放式研究仿真\n器")]),s._v(" "),t("p",[s._v("核心 GUI 工具可用于创建网络拓扑图")]),s._v(" "),t("p",[s._v("仿真网络可以在一台或多台计算机上，并且可以连接\n到实时网络")]),s._v(" "),t("p",[s._v("核心 GUI 工具可用于创建网络拓扑图")]),s._v(" "),t("h5",{attrs:{id:"b-radio-mobile-rm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-radio-mobile-rm"}},[s._v("#")]),s._v(" B.Radio Mobile（RM）")]),s._v(" "),t("p",[s._v("[2-3]是一种免费软件工具，可以通过使\n用数字地形高程数据来预测无线电系统的性能")]),s._v(" "),t("p",[s._v("创建其网络拓扑的图形视图创建其网络拓扑的图形视图")]),s._v(" "),t("h5",{attrs:{id:"c-网络实验编程接口-nepi-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#c-网络实验编程接口-nepi-4"}},[s._v("#")]),s._v(" C.网络实验编程接口（NEPI）[4]")]),s._v(" "),t("p",[s._v("是一种实验生命周期管理工具，\n用于通过 PlanetLab 和与 ns-3 无缝集成的仿真节点进行异构\n实验")]),s._v(" "),t("p",[s._v("使用 NEPI 的两种方式是网络实验前端\n（NEF）GUI 或 python 脚本。NEF 允许在画布中拖放和互连框。\n复杂的实验也可以设计和执行为单个 python 脚本")]),s._v(" "),t("h4",{attrs:{id:"_3-工具概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-工具概述"}},[s._v("#")]),s._v(" 3.工具概述")]),s._v(" "),t("p",[s._v("将 ns-3 网络模拟器与 GUI 集成在\n一起是一项巨大的工作")]),s._v(" "),t("p",[s._v("svg-edit 是一个\n基于 Web 的开源基于 JavaScript 的 SVG 绘图编辑器，可在浏\n览器中使用")]),s._v(" "),t("p",[s._v("PGCPMT 应用程序是在 OMF 框架内构建的，并通过新的 GUI，\nns-3 代码生成器和对 ns-3 模拟器的访问来扩展 OMF")]),s._v(" "),t("p",[s._v("OMF 使用 D3 JavaScript 库来生成动态的，交互式的数据可\n视化。任何支持 D3 的浏览器（例如 Chrome 或其他浏览器）\n都可以用于运行 OMF 和 PGCPMT")]),s._v(" "),t("p",[s._v("ns-3 代码生成器使用 XSD（XML 模式定义）来指定如何正式\n描述可扩展标记语言（XML）文档中的元素。提供给 ns-3 代\n码生成器的 XML 文档描述了网络拓扑，所请求的网络仿真的\n操作参数以及最终用户进行分析所需的输出结果。ns-3 代码\n生成器是爱达荷州国家实验室（INL）ns-3 拓扑生成器工具\n的增强版本，该工具最初由斯特拉斯堡大学的 Pierre Weiss\n和 Sebastien Vincent 编写")]),s._v(" "),t("h5",{attrs:{id:"_5-pgcpmt-的实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-pgcpmt-的实现"}},[s._v("#")]),s._v(" 5.pgcpmt 的实现")]),s._v(" "),t("h6",{attrs:{id:"_5-1登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1登录"}},[s._v("#")]),s._v(" 5.1登录")]),s._v(" "),t("p",[s._v("5.2电力系统建模界面")]),s._v(" "),t("p",[s._v("OMF 利用 GridLAB-D，一种配电系统仿真和分析工具，供设计\n和操作配电系统的用户使用。GridLAB-D 模拟电源系统中许\n多设备的相互依存行为")]),s._v(" "),t("p",[s._v("PGCPMT")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("omf\npython3.6\nhttps://www.cnblogs.com/kimyeee/p/7250560.html\n\nvirtualenv -p /usr/local/python3.6/bin/python3.6 venv\n\n\nModuleNotFoundError: No module named '_bz2'\n\nhttps://stackoverflow.com/questions/22346269/bz2-is-module-not-available-when-installing-pandas-with-pip-in-python-virtual\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h2",{attrs:{id:"分享"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分享"}},[s._v("#")]),s._v(" 分享")]),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"f:\\down\\我的坚果云\\我的坚果云\\bugfix\\后台\\docker结合烟草项目的分享.html"}},[s._v("docker结合烟草项目的分享")])],1),s._v(" "),t("h2",{attrs:{id:"web-v-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-v-2"}},[s._v("#")]),s._v(" web-v")]),s._v(" "),t("p",[s._v("论文需要改进的地方")]),s._v(" "),t("p",[s._v("1加强对对方论文的研究")]),s._v(" "),t("p",[s._v("2参考更多的论文")]),s._v(" "),t("p",[s._v("3论文的贡献，创新点在哪")]),s._v(" "),t("p",[s._v("4需要更多的学术创新，现在的论文更像是一篇应用的实现")]),s._v(" "),t("p",[s._v("5需要增加数学模型，相关方程")]),s._v(" "),t("p",[s._v("6论文语法问题")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ns-3的调用可以优化\n\n学下下svg编辑器svg-edit\n代码生成器\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("RouterLink",{attrs:{to:"f:\\down\\我的坚果云\\我的坚果云\\bugfix\\后台\\web-v会议纪要7.11.html"}},[s._v("web-v会议纪要7.11")])],1),s._v(" "),t("h4",{attrs:{id:"web-v会议纪要7-11"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-v会议纪要7-11"}},[s._v("#")]),s._v(" web-v会议纪要7.11")]),s._v(" "),t("p",[s._v("1）引言")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("加入\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("2）相关工作")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("更加详细，更多论文\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("3）4.3去掉优化")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("优化前后的文字放入系统架构中\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("4）图片")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("fig1大图拆分为\nweb UI\nmanager node 包含 wait queue\nrun(ns-3) node\n精简大图\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("图2、3需要优化 图2整合进入图1，左半边去掉，右边文字直接加入fig1\n图7、8 数据还在，需要重新绘图\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("5）学术创新")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("对标平台，easyHPC,电网PGCPDM，802.1.11vh\n1教程（教学功能） 2轻量级，简洁，简单使用，服务 3提供参考代码 4性能 并发 同等条件、开销更小、服务更多的用户，命令行，对流量的要求小 下载文件到本地，方便使用\n\n我们的学术贡献：将一下学术创新，放在介绍里\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("6）其他")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("数学模型和相关方程 搁置\n\n扩写3.2.2 写清楚的部署\ndocker-compose\n\n现在是通过容器实现了多进程，考虑能否使用多线程，使编译的工作翻倍\n\n安全性 \n限制文件的大小 恶意病毒的文件比较大 len<=10000\n硬编码\n\n前景\n可扩展性：提出的新的后台方案，1使用redis实现，2分布式集群（图1、图3、图7、图8需要修改，需要重新做实验）\n用户使用自己的服务器\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("p",[s._v("队列")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("一个任务为一个事件，任务遍历容器列表，判断是否有空闲容器，若有，发送请求给run node执行，若无，任务进入等待队列\n\nmanager容器收到run容器的返回值后，调用回调函数，从等待队列里取任务进入运行队列然后执行\n\n同一时间只能有3个request\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"C:%5CUsers%5Czengdewei1%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200710210640429.png",alt:"image-20200710210640429"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://pic3.zhimg.com/80/v2-3fd84a3fb8cc4f4ae56bc2536948c098_720w.jpg",alt:"img"}})]),s._v(" "),t("p",[s._v("PPT")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("以解题报告PPT为基础\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"rust"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rust"}},[s._v("#")]),s._v(" Rust")]),s._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("export RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static\nexport RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup\ncurl https://sh.rustup.rs -sSf | sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"windows加速"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows加速"}},[s._v("#")]),s._v(" windows加速")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#用于更新 toolchain\n\nset RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static\n\n#用于更新 rustup\n\nset RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h4",{attrs:{id:"卸载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#卸载"}},[s._v("#")]),s._v(" 卸载")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("rustup self uninstall\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"国内镜像加速"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#国内镜像加速"}},[s._v("#")]),s._v(" 国内镜像加速")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('# 放到 `$HOME/.cargo/config` 文件中\n[source.crates-io]\nregistry = "https://github.com/rust-lang/crates.io-index"\n\n# 替换成你偏好的镜像源\nreplace-with = \'ustc\'\n\n# 中国科学技术大学\n[source.ustc]\nregistry = "git://mirrors.ustc.edu.cn/crates.io-index"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h5",{attrs:{id:"bash配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bash配置"}},[s._v("#")]),s._v(" bash配置")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("在~/.bashrc文件末尾添加如下：\nexport PATH=$PATH:/root/.cargo/bin(待添加路径)\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#语法"}},[s._v("#")]),s._v(" 语法")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("数据类型\n函数\n包装箱和模块\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("缺少CL/cl.h")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("opencl-headers\nocl-icd-libopencl\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"git-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-2"}},[s._v("#")]),s._v(" git")]),s._v(" "),t("p",[s._v("template")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("https://gitee.com/zengdewei1/django_template\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"不止代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不止代码"}},[s._v("#")]),s._v(" 不止代码")]),s._v(" "),t("p",[s._v("以 java 为例，大部分业务代码就是 if-else 加个数据库操作，但我们完全可以\n自己学些更多 java 的知识，例如垃圾回收，调优，网络编程等，这些可能暂时没用，\n但真要用的时候，不是 google 一下就可以了，这个时候谁已经掌握了相关知识和技\n能，机会就是谁的")]),s._v(" "),t("p",[s._v("重复代码太多，是否可以引入设计模式？\n系统性能一般，可否进行优化？\n目前是单机，如果做成双机是否更好？\n版本开发质量不高，是否引入高效的单元测试和集成测试方案？\n目前的系统太庞大，是否可以通过重构和解耦改为 3 个系统？\n阿里中间件有一些系统感觉我们也可以用，是否可以引入 ？")]),s._v(" "),t("p",[s._v("自己动手丰衣足食”，也就是自己去尝试搭建一些模拟环境，自己写一些测试程序")]),s._v(" "),t("p",[s._v("Jvm 垃圾回收：可以自己写一个简单的测试程序，分配内存不释放，然后调整\n各种 jvm 启动参数，再运行的过程中使用 jstack、jstat 等命令查看 jvm 的堆\n内存分布和垃圾回收情况。这样的程序写起来很简单，简单一点的就几行，复\n杂一点的也就几十行")]),s._v(" "),t("p",[s._v("Reactor 原理：自己真正去尝试写一个 Reactor 模式的 Demo，不要以为这\n个很难，最简单的 Reactor 模式代码量（包括注释）不超过 200 行（可以参考\nDoug Lee 的 PPT）。自己写完后，再去看看 netty 怎么做，一对比理解就更\n加深刻了")]),s._v(" "),t("p",[s._v("框架封装了 DAL 层：可以自己用 JDBC 尝试去写一个分库分表的简单实现，\n然后与框架的实现进行对比，看看差异在哪里")]),s._v(" "),t("p",[s._v("用浏览器的工具查看 HTTP 缓存实现，看看不同种类的网站，不同类型的资\n源，具体是如何控制缓存的；也可以自己用 Python 写一个简单的 HTTP 服务\n器，模拟返回各种 HTTP Headers 来观察浏览器的反应")]),s._v(" "),t("h2",{attrs:{id:"嵌入式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#嵌入式"}},[s._v("#")]),s._v(" 嵌入式")]),s._v(" "),t("h3",{attrs:{id:"usart-串口通信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usart-串口通信"}},[s._v("#")]),s._v(" USART-串口通信")]),s._v(" "),t("p",[s._v("数据包")]),s._v(" "),t("p",[s._v("起始位、主体数据、校验位、停止位")]),s._v(" "),t("p",[s._v("1、比特率")]),s._v(" "),t("p",[s._v("异步时需要比特率一致，以便解码")]),s._v(" "),t("p",[s._v("2、数据校验")]),s._v(" "),t("p",[s._v("奇、偶校验")]),s._v(" "),t("p",[s._v("USART在STM32中的应用最多莫过于“打印”程序信息")]),s._v(" "),t("h2",{attrs:{id:"教程资源"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#教程资源"}},[s._v("#")]),s._v(" 教程资源")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://proto.school",target:"_blank",rel:"noopener noreferrer"}},[s._v("关于分布式Web 协议的交互式教程"),t("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=r.exports}}]);